<!-- **********************************************************************-->
<!-- Copyright 2013-2025                                                   -->
<!-- Nicholas Long, Mitchel Keller, Steven Schlicker                       -->
<!--                                                                       -->
<!-- This file is part of Active Calculus Multivariable.                   -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-NC-SA license.  The work   -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike"; no party may sell this work or any of its    -->
<!-- derivatives for profit.  All trademarks are the registered marks of   -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="C_VVF">
  <title>Vector-Valued Functions of One Variable</title>
  <introduction xml:id="C_VVF_classic-calc-approach">
    <title>Classic Calculus Approach</title>
    <p>
      In your first calculus course, you looked at limits, derivatives, and integrals and used these to measure change and accumulation. Each of these ideas and its applications was likely introduced as a way to measure something specific by approximating the measurement and then looking at how to improve this approximation. Limits offer a powerful tool to precisely describe how these approximations converge to the relevant measurement. This process is what we will call the <term>classic calculus approach</term>: 
      <ol marker="1.">
        <li>
          <p>
            approximate the measurement,
          </p>
        </li>
        <li>
          <p>
            quantify how the approximation changes on a finer scale, and
          </p>
        </li>
        <li>
          <p>
            use a limit to show how the approximation converges to the measurement of interest.
          </p>
        </li>
      </ol>
    </p>
    <p>
      Before we start our work on the calculus of vector-valued functions, we will review some key ideas involving the classic calculus approach, limits, differentiation, and integration. This review is not meant to be comprehensive but is intended to ensure that all students are reminded of key concepts that will be vital for our development of calculus for new types of of functions. We will provide links to activities where you can review and explore the ideas from single-variable calculus.
    </p>
    <paragraphs>
      <title>Limits</title>
      <p>
        The limit of a function measures what the output of the function approaches as an input gets closer to a particular value. Limits are examples of local measurements, since they describe a measurement that applies to a region around a particular value. Remember that a limit does <em>not</em> measure what is happening at the particular input value; the limit describes behavior in a region <em>around</em> the particular input value. In fact, limits are most useful and interesting when evaluating the function at the particular input value does not make sense. For instance, 
        <me>\lim_{x \rightarrow 5} x^2-2x+1</me> 
        is not a very interesting limit because the function we are taking the limit of will output the value of the limit. In other words, substituting in <m>x=5</m> into <m>x^2-2x+1</m> will provide the same result as taking the limit as <m>x</m> approaches <m>5</m>. These kinds of functions are called continuous functions. While continuous functions are important and nice, evaluating and understanding limits of continuous functions does not offer a different insight or understanding: what you see is what you get.
      </p>
      <p>
        A more interesting limit is
        <me>\lim_{x \rightarrow 5} \frac{x^2-25}{x-5}</me>.
        This limit is of an indeterminant form, which means that we will need to use other tools rather than just attempting to substitute the particular input into different parts of the function. This limit (and many of the limits you looked at in your definitions of calculus operations) is of the form
        <m>\displaystyle\lim_{a \rightarrow 0} f(a)g(a)</m> where <m>\lim_{a \rightarrow 0} f(a) = 0</m> and <m>g(a) \rightarrow \infty</m> as <m>x\to a</m>. Note that although this limit cannot be evaluated by substitution, we cannot immediately conclude that  the limit does not exist. We will have to use other tools to find the limit value, if the limit value does exist. 
      </p>
    </paragraphs>
    <paragraphs>
      <title>Differentiation</title>
      <p>
        The derivative of a function measures the rate of change of the value of a function at a particular input value. Geometrically, this is commonly visualized as the slope of a line tangent to the graph of the function at the point corresponding to the particular input value. The derivative is a local measurement because the rate of change or slope of the tangent line only models the behavior of the function for an arbitrarily small region around the input value. The derivative is approximated with the average rate of change over an interval, which corresponds to the slope of a secant line. As the points involved in the secant line become closer to the particular input value, the approximation becomes closer to the true rate of change at the particular input value. The slope of the secant line is the difference quotient: the change in the function value divided by the change in the inputs to the function. Thus, by looking at the limit of this difference quotient as as the change in the inputs approaches zero, we can compute the true rate of change for the function.
      </p>
      <!-- TODO Fonts are way too small. Recode in PreFigure and decide if need to use two rows rather than three on one row. -->
      <!-- <figure xml:id="secantlines">
        <caption>Three plots of secant lines with <m>h\rightarrow0</m> </caption> -->
        <sidebyside widths="33% 33% 33%">
          <image width="100%" xml:id="img-secline1">
              <sageplot>
                var('t,x')
                f(x)=x^3-3*x^2+x
                a=1/2
                f0=f(a)
                plot2=plot(f(x),(x,-0.25,0.75),color="black",axes=False,thickness=3,xmin=-0.25,xmax=0.75,ymin=-0.5,ymax=0.25)
                plot2+=point((a,f0),color="black",size=50,zorder=5)
                plot2+=text("$P:(a,f(a))$",(0.65,-0.1),color="black",fontsize=20)
                h=0.5
                f1=f(a-h)
                plot2+=point((a-h,f1),color="blue",size=50,zorder=5)
                plot2+=plot((f0-f1)/h*(x-a)+f0,(x,-0.25,0.75),color="blue",thickness=2)
                plot2+=line([(a,f0),(a-h,f0)],color="green",thickness=2)
                plot2+=line([(a-h,f0),(a-h,f1)],color="orange",thickness=2)
                plot2+=text("$h$",(a-h/2,f0-0.05),color="green",fontsize=20)
                plot2+=text("$f(a)-f(a-h)$",(-0.25,-0.05),color="orange",fontsize=20)
                plot2
              </sageplot>
            <description><p>ADD ALT TEXT TO THIS IMAGE</p></description></image>
            <image width="100%" xml:id="img-secline2">
              <sageplot>
                var('t,x')
                f(x)=x^3-3*x^2+x
                a=1/2
                f0=f(a)
                plot3=plot(f(x),(x,-0.25,0.75),color="black",axes=False,thickness=3,xmin=-0.25,xmax=0.75,ymin=-0.5,ymax=0.25)
                plot3+=point((a,f0),color="black",size=50,zorder=5)
                plot3+=text("$P:(a,f(a))$",(0.65,-0.1),color="black",fontsize=20)
                h=0.25
                f1=f(a-h)
                plot3+=point((a-h,f1),color="blue",size=50,zorder=5)
                plot3+=plot((f0-f1)/h*(x-a)+f0,(x,-0.25,0.75),color="blue",thickness=2)
                plot3+=line([(a,f0),(a-h,f0)],color="green",thickness=2)
                plot3+=line([(a-h,f0),(a-h,f1)],color="orange",thickness=2)
                plot3+=text("$h$",(a-h/2,f0-0.05),color="green",fontsize=20)
                plot3+=text("$f(a)-f(a-h)$",(0.10,-0.05),color="orange",fontsize=18)
                plot3
              </sageplot>
            <description><p>ADD ALT TEXT TO THIS IMAGE</p></description></image>
            <image width="100%" xml:id="img-secline3">
              <sageplot>
                var('t,x')
                f(x)=x^3-3*x^2+x
                a=1/2
                f0=f(a)
                plot4=plot(f(x),(x,-0.25,0.75),color="black",axes=False,thickness=3,xmin=-0.25,xmax=0.75,ymin=-0.5,ymax=0.25)
                plot4+=point((a,f0),color="black",size=50,zorder=5)
                plot4+=text("$P:(a,f(a))$",(0.65,-0.1),color="black",fontsize=20)
                h=0.1
                f1=f(a-h)
                plot4+=point((a-h,f1),color="blue",size=50,zorder=5)
                plot4+=plot((f0-f1)/h*(x-a)+f0,(x,-0.25,0.75),color="blue",thickness=2)
                plot4+=line([(a,f0),(a-h,f0)],color="green",thickness=2)
                plot4+=line([(a-h,f0),(a-h,f1)],color="orange",thickness=2)
                plot4+=text("$h$",(a-h/2,f0-0.05),color="green",fontsize=20)
                plot4+=text("$f(a)-f(a-h)$",(0.20,-0.05),color="orange",fontsize=20)
                plot4
              </sageplot>
            <description><p>ADD ALT TEXT TO THIS IMAGE</p></description></image>
          </sidebyside>
      <!-- </figure> -->
      <p>
        Algebraically, we can view this classic calculus approach as:
        <md>
          <mrow>\text{rate of change of }f \amp\approx \frac{f(a+h)-f(a)}{h} \amp \amp\text{(slope of secant line)}</mrow>
          <mrow>\text{rate of change of }f \amp=\lim_{h\rightarrow 0} \frac{f(a+h)-f(a)}{h}  \amp\amp \text{(slope of tangent line)}</mrow>
        </md>
        Note that other derivative definitions correspond to different ways of thinking about how the two nearby points involved in the secant line approach the input of interest. The formula above approaches the point of interest from the left, but derivative formulas exist for the right difference or central difference methods. Using the limit, all of these formulas calculate the same value for the derivative since there is only one instantaneous rate of change for the function at the point <m>(a,f(a))</m>. 
      </p>
      <p>
        You may not have noticed but the limit formula for the derivative at a point is of the form of an <q>interesting</q> limit because 
        <me>\lim_{h\rightarrow 0} (f(a+h)-f(a)) \frac{1}{h}</me> 
        has 
        <me>\lim_{h \rightarrow 0} f(a+h)-f(a)=0 \quad \text{and} \quad \frac{1}{h} \rightarrow \infty\text{ as }h \rightarrow 0</me>.
        This means that we need other tools to evaluate the limit involved in derivatives.
      </p>
      <p>
        Your first calculus course likely generalized the derivative at a point to <m>f'(x)=\frac{df}{dx}</m>, a function which outputs the rate of change of <m>f</m> for the input value <m>x</m>. This led to a collection of rules for efficiently calculating derivatives (e.g., power rule, sum/difference, product rule, chain rule, etc.) by thinking about the derivative <m>f'(x)</m> as a function related to the function <m>f</m>. This perspective also leads to taking derivatives of derivatives, which is often used to measure features of graphs such as concavity.
      </p>
    </paragraphs>
    <paragraphs>
      <title>Integration</title>
      <p>
        The integral of a function on an interval measures the net signed area between the graph of the function and the horizontal axis. To approximate this area, we break the interval of interest into subintervals and use rectangles whose bases are the subintervals and whose heights are determined by the function's value at some point in the subinterval. Adding up the area of these rectangles leads to an approximation of the exact area under the curve. By using smaller and smaller subintervals, this rectangular approximation gets closer to the exact area under the curve. Thus, taking the limit of the sum of the areas of these rectangles as the width of all of the subintervals goes to zero gives the exact area under the curve. 
      </p>
      <!-- TODO Recode this in PreFig -->
      <!-- <figure xml:id="Riemannsum1">
        <caption>At left and center, two left Riemann sums for a function <m>f</m> that is sometimes negative; at right, the exact areas bounded by <m>f</m> on the interval <m>[a,d]</m> (image from https://activecalculus.org/single/sec-4-3-definite-integral.html#F-4-3-IncreaseN) </caption> -->
        <image source="images/4_2_NegF">
          <description><p>ADD ALT TEXT TO THIS IMAGE</p></description></image>
      <!-- </figure> -->
    
      <p>
        Your introduction to integrals likely investigated multiple rules for selecting which point you use to find the height of the rectangles in your approximation (e.g., right endpoint, left endpoint, midpoint, etc.). However, the key idea is that the actual value of the integral does not depend on this choice. We can view the classic calculus approach for finding the net signed area between a curve and the horizontal axis as
        <md>
          <mrow>\text{area under the graph of }f \amp\approx \sum_{i=0}^n f(x_i^*) \Delta x_i </mrow>
          <mrow>\text{area under the graph of }f \amp=\lim_{\Delta x_i \rightarrow 0} \sum_{i=0}^n f(x_i^*) \Delta x_i </mrow>
        </md>
        If we use equally-sized subintervals in our approximation, then the Riemann sum argument above fits the form of our <q>interesting</q> limits. Specifically, 
        <me>\lim_{\Delta x \rightarrow 0} \sum_{i=0}^n f(x_i^*) \Delta x</me> 
        with 
        <me>\lim_{\Delta x \rightarrow 0} \Delta x =0 \quad \text{and} \quad \sum_{i=0}^n f(x_i^*) \rightarrow \infty\text{ as }n \rightarrow \infty </me>
        Note that increasing the number of subintervals corresponds exactly with decreasing the width of these equally-sized subintervals to zero. 
      </p>
      <p>
        You may have generalized the idea of the definite integral by looking at the accumulation of a function. <xref ref="accumulation" text="title"/> reminds you how position can be thought of as the accmulation of change in velocity. The idea of accmulation of change (not limited to velocity leading to change in position) will be important in our future study.
      </p>
      <assemblage xml:id="accumulation">
        <title>Recovering Position from Velocity</title>
        <p>
            Suppose that an object moves along number line (i.e., in one dimension) with velocity given as <m>v(t)</m>. The object's position is also a function of time, which we denote by <m>x(t)</m> so that <m>x'(t) = v(t)</m>. We also let <m>x_0 = x(0)</m>. In this framework, we can express the position at time <m>t=a</m> as
            <me>
            x(a) = x_0 + \int_{0}^a v(t)\, dt
            </me>.
        </p>
      </assemblage>
      <proof>
        <p>
          In many physical problems it is easier to monitor velocity rather than position because velocity is a local measurement, while position is <em>not</em> a local measurement. This may seem surprising at first, so we will consider our example of piloting a car. Tracking the position of a car for all times on a trip requires a coordinate system and constant measurement of distance between the car and reference objects such as axes or coordinate planes. This requires measurement beyond the car and an external view of the car. This is why systems like GPS satellites and receivers are necessary for accurate global navigation. In contrast, note that the car does <em>not</em> need something outside of itself to measure its speed because the speed is a measurement of change in position relative to a small step around the current location.
        </p>
        <p>
          Because velocity is the change in position over time, <m>\text{velocity}=\frac{\Delta \text{position}}{\Delta \text{time}}</m>, we can measure a <em>change</em> in position by multipliying velocity by the change in time (<m>\Delta \text{position}=\text{velocity} \Delta \text{time}</m>) if velocity is constant. Over a small time interval, velocity changes very little, or is close to constant. Therefore, we can apply this relation and use a classic calculus approach to approximate, refine, and precisely state the position as a function of time. 
        </p>
        <p>
          We know the position of the object at time <m>0</m> because <m>x(0)=x_0</m>. Thus, we want to use the velocity to measure the change in position (on the number line) between <m>t=0</m> and time <m>t=a</m>. We approximate this change in position as <m>\Delta \text{position}=(\text{velocity})(\Delta \text{time})</m>. To do this, we divide the interval <m>[0,a]</m> into <m>n</m> equally-sized pieces of size <m>\Delta t= \frac{a}{n}</m>. The endpoints of these intervals are where <m>t_0=0, t_1=\Delta t, \ldots, t_{n-1}=(n-1)\Delta t, t_n =a</m>. The position at <m>t=a</m> is given by
          <me>x(a)=x_0+ \Delta x_1 + \ldots + \Delta x_n </me>
          where <m>\Delta x_i</m> is change in position from <m>t_{i-1}</m> to <m>t_i</m>. 
        </p>
        <p>
          On each interval <m>[t_{i-1},t_i]</m>, we evaluate the velocity at some point in the interval, denoted <m>v(t_i^*)</m>, and then approximate the change in position by multiplying <m>v(t_i^*)</m> by <m>\Delta t</m>. This gives us the estimate of the change in position on the interval as <m>\Delta x_i \approx v(t_i^*) \Delta t </m>. Our estimate of the position of our object at <m>t=a</m> is then
          <me>
            x(a)\approx x_0+\sum_{i=1}^n v(t_i^*) \Delta t \quad \quad \text{for some }t_i^*\in[t_{i-1},t_i] 
          </me>.
          This approximation is step one of the classic calculus approach.
        </p>
        <p>
          Step 2 of the classic calculus approach requires an understanding of how this approximation works on a finer scale. A <q>finer scale</q> in this case means a larger number <m>n</m> of subintervals. Increasing <m/> means that <m>\Delta t</m> decreases. In other words, a finer scale means more terms in the sum but a smaller step size multiplier (<m>\Delta t</m>). The estimate is now a Riemann sum where the function being evaluated in the Riemann sum is the velocity <m>v(t)</m>. Recognizing this leads to translating the Riemann sum into a definite integral as step three of the classic calculus approach. As <m>n\rightarrow \infty</m> or <m>\Delta t \rightarrow 0</m>,
          <me>
            x_0+\sum_{i=1}^n v(t_i^*) \Delta t \rightarrow x(a)=x_0+\int_0^{a} v(t) \, dt
          </me>.
        </p>
        <p>
          In practice, this approximation is what GPS systems do at very fine level: use hyper-accurate timing and changes in distances to satellites to give current position. 
        </p>
      </proof>
      <p>
        Accumulation will also apply to situations when working with density of a material as well. For instance, if considering a mining machine that harvests a mineral from the surface, the amount the machine harvests is the accumulation of the densities of the mineral along the path the machine followed. Mathematically this can be expressed as
        <md>
          <mrow>\text{total harvested} \amp= \sum \text{amount in each section driven} </mrow>
          <mrow>      \amp\approx \sum (\text{density}) (\text{length of the section}) </mrow>
        </md>
        This Riemann sum becomes a definite integral of the density function in the classic calculus approach. This idea of accumulation of a function is something we will use in most chapters of the remainder of this text.
      </p>
    </paragraphs>

  </introduction>
  <xi:include href="S_VVF_Plotting.ptx"/>
  <xi:include href="S_VVF_Calculus.ptx"/> 
  <xi:include href="S_VVF_Arclength.ptx"/> 
  <xi:include href="S_VVF_TNB.ptx"/> 
  <xi:include href="S_VVF_Curvature.ptx"/> 
  <xi:include href="S_VVF_Splitting_Acceleration.ptx"/>
  <!-- <xi:include  href="S_VVF_Applications.ptx" />  -->
</chapter>
