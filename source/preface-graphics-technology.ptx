
<preface xml:id="graphtech">
  <title>Graphics and Technology</title>
  <p>
    As much as possible, we strive to demonstrate key fundamental ideas visually, and to encourage students to do the same. Throughout the text, we use full-color graphics to exemplify and magnify key ideas, and to use this graphical perspective alongside both numerical and algebraic representations of calculus. Because so much of vector calculus relies upon visualizing things in three dimensions, we elected to produce almost all of the 3D graphics using SageMath. This allows for a degree of consistency between the two-dimensional graphics, which are typically static, and the three-dimensional graphics, which are almost always interactive. Thus, you can grab a three-dimensional plot, rotate it, zoom in on it, etc.
    <ul>
      <li>To <em>rotate</em> a three-dimensional graphic, left click (primary click) and drag with your mouse. On touchscreen devices, you can press (with a single finger or stylus) and drag to rotate a figure. </li>
      <li>To <em>zoom</em> on an interactive three-dimensional graphic, use can your mouse's scroll wheel to zoom in or out based on your current viewing position. On touchscreen or touchpad devices you can use the pinch and expand gestures to zoom in and out. On touchpad devices, you can also touch with two fingers and slide up or down to change the zoom. </li>
      <li>To <em>move</em> the location from which you are viewing a three-dimensional graphic (instead of rotating), you can right click (secondary click) and drag in the direction you would like to move. Additionally, you can hold Control and click and drag to change the viewing location. On touchscreen devices you can drag with two fingers to move the location from which you are viewing the plot. </li>
    </ul>
    You can practice using these interactions on the surface plot below.
  </p>
  <figure xml:id="testplot3d">
    <caption>An interactible three dimensional plot</caption>
    <interactive title="interactive-testplot3d" platform="sage" width="100%" aspect="1:1.0">
      <slate surface="sage">
        from sage.plot.plot3d.plot3d import axes
        var('x,y,z,t,s')
        scale=5;
        plot13=axes(scale,2,color="black",frame=False,aspect_ratio=1)+text3d("x",(scale+0.5,0,0),fontsize=30)+text3d("y",(0,scale+0.5,0),fontsize=30)+text3d("z",(0,0,scale+0.5),fontsize=30)
        param(s,t)=(2*s,3*sqrt(s^2-1)*cos(t),sqrt(s^2-1)*sin(t));s1=1;s2=2;t1=0;t2=2*pi;
        param2(s,t)=(-2*s,3*sqrt(s^2-1)*cos(t),sqrt(s^2-1)*sin(t));
        #set up grid      n is number of steps in s    m is number of steps in t  
        #a1 is min s    a2 is max s   b1 is min t    b2 is max t
        n=9;m=11;a1=s1;a2=s2;b1=t1;b2=t2; 
        #c1 is surface color     o1 is surface opacity
        #c2 and o2 are for constant t value traces
        #c3 and o3 are for constant s value traces
        c1="lightblue"; c2="gray"; c3="gray"; o1=0.8; o2=0.8; o3=0.8;
        plot13+=parametric_plot3d(param,(s,s1,s2),(t,t1,t2),color="lightblue",opacity=o1)
        plot13+=parametric_plot3d(param2,(s,s1,s2),(t,t1,t2),color="lightblue",opacity=o1)
        for i in range(n+1):
          sv=a1+i/n*(a2-a1)
          plot13+=parametric_plot3d(param(sv,t),(t,b1,b2),color=c2,opacity=o2)
          plot13+=parametric_plot3d(param2(sv,t),(t,b1,b2),color=c2,opacity=o2)
        for i in range(m+1):
          tv=b1+i/m*(b2-b1)
          plot13+=parametric_plot3d(param(s,tv),(s,a1,a2),color=c3,opacity=o3)
          plot13+=parametric_plot3d(param2(s,tv),(s,a1,a2),color=c3,opacity=o3)
        plot13+=parametric_plot3d(param(s,0),(s,s1,s2),color="red",thickness=3)
        plot13+=parametric_plot3d(param(s,pi),(s,s1,s2),color="red",thickness=3)
        plot13+=parametric_plot3d(param2(s,0),(s,s1,s2),color="red",thickness=3)
        plot13+=parametric_plot3d(param2(s,pi),(s,s1,s2),color="red",thickness=3)
        plot13+=parametric_plot3d(param(s,pi/2),(s,s1,s2),color="green",thickness=3)
        plot13+=parametric_plot3d(param(s,3*pi/2),(s,s1,s2),color="green",thickness=3)
        plot13+=parametric_plot3d(param2(s,pi/2),(s,s1,s2),color="green",thickness=3)
        plot13+=parametric_plot3d(param2(s,3*pi/2),(s,s1,s2),color="green",thickness=3)
        show(plot13)       		
      </slate>
    </interactive>
  </figure>
  <p>
    Some 2D and 3D plots will use other ways of allowing the user to change aspects of the figure or interact in different ways, such as allowing the user to specify thier own function, zoom in or out on different features, or add a new aspect to the plot. We try to explain in the context of the example or activity how to use these other features. We will most often use sliders and toggles to change features in plots. For instance, we use the following plot to allow users to explore the idea of locally linear functions using slider to change the location on the function we are investigating and another slider to control how closely we examine around the choosen point. Note that this plot will update when you change and release either of the sliders at a new value. A few plots will use and update button to allow the user to specify inputs before replotting.
  </p>
  <figure xml:id="LLex">
    <caption>A plot with the ability to zoom in on a point of <m>y=f(x)</m>, where <m>f</m> is a nonlinear, differentiable function</caption>
    <interactive title="interactive-LLex" platform="sage" width="100%" aspect="1:1.1">
      <slate surface="sage">
        @interact
        def LLline(zoom=slider(0,8,1,default=0,label="Zoom"),val=slider(0,2,0.05,default=1.00,label="Location")):
          var('x')
          f(x)=x*cos(pi*x)
          fv=f(val)
          if(zoom==0):
            xtop=4;xbottom=-4;
          else:
            xbottom=val-2^(-zoom+1);xtop=val+2^(-zoom+1);
          plot1=plot(f(x),(x,xbottom,xtop),color="black",gridlines=True,thickness=2)
          plot1+=point((val,fv),color="black",size=40)
          show(plot1)
      </slate>
    </interactive>
  </figure>
  <p>
    In the following plot used in <xref ref="S-mv_deriv-optimization"/>, the user can specify a function and a location that they think is a local max or min. This example plot used both the input structure for a point and a function. 
  </p>
  <figure xml:id="critvalsact2">
    <caption>Plots of <m>z=f(x,y)</m> around each of the critical points</caption>
    <interactive title="interactive-critvalsact2" platform="sage" width="100%" aspect="1:1.25">
      <slate surface="sage">
        var('x,y,z')
        d=0.25
        @interact
        def critvalcheck(p=input_grid(1,2,default=[[0,0]],label="\\( (a,b)= \\)"),func=input_box(default=1-x^2+2*y^2,label="\\(f(x,y)=\\)"),auto_update=False):
          a=p[0][0];b=p[0][1];
          f(x,y)=func
          #plot1=plot3d(f(x,y),(x,a-d,a+d),(y,b-d,b+d),color="blue",opacity=0.6,plot_points=31,mesh=True)
          param(s,t)=(s,t,f(s,t))
          n=9;m=9;a1=a-d;a2=a+d;b1=b-d;b2=b+d; 
          #c1 is surface color     o1 is surface opacity
          #c2 and o2 are for constant t value traces
          #c3 and o3 are for constant s value traces
          c1="lightblue"; c2="gray"; c3="gray"; o1=0.6; o2=0.6; o3=0.6;
          plot1=parametric_plot3d(param,(s,a1,a2),(t,b1,b2),color=c1,opacity=o1)
          for i in range(n+1):
            sv=a1+i/n*(a2-a1)
            plot1+=parametric_plot3d(param(sv,t),(t,b1,b2),color=c3,opacity=o3)
          for i in range(m+1):
            tv=b1+i/m*(b2-b1)
            plot1+=parametric_plot3d(param(s,tv),(s,a1,a2),color=c3,opacity=o3)
          plot1+=point3d((a,b,f(x=a,y=b)),size=10,color="black")
          show(plot1)
      </slate>
    </interactive>
  </figure>
  <p>
    Many of the ideas of multivariable calculus are best understood dynamically, and we encourage readers to make frequent use of technology to analyze graphs and data (maybe not on exams, though). Since technology changes so often, we refrain from indicating specific programs to use in the text. However, aside from computer algebra systems like <em>Sage</em> or <em>Mathematica</em>, there are many free graphing tools available for drawing three-dimensional surfaces or curves. These programs can be used by instructors and students to assist in the investigations and demonstrations. The use of these freely available applets is in accord with our philosophy that no one should be required to purchase materials to learn calculus. We are indebted to everyone who allows their expertise to be openly shared. Below is a list of a few of the technological tools that are available (links active at the writing of this edition). Of course, you can find your own by searching the web. 
  </p>
  <p>      
    <ul>
      <li>
        <p> 
          <url href="https://c3d.libretexts.org/CalcPlot3D/index.html">CalcPlot3D</url>, an excellent, all-purpose 3D graphing tool with numerous features built around multivariable calculus objects like curves in space, vector fields, surfaces (explicit, implicit, and parametric), and regions in 2D and 3D.
        </p>
      </li>
      <li>
        <p>
          <url href="https://www.desmos.com/calculator">Desmos</url> a nice graphing tool with some computational capabilities and a <url href="https://www.desmos.com/3d">separate plotter</url> with a limited set of features for 3D.
        </p>
      </li>
      <li>
        <p>
          <url href="https://www.geogebra.org/">GeoGebra</url>, all purpose graphing tool with some computer algebra capabilities and <url href="https://www.geogebra.org/3d">a 3D set of features</url>. Clicking on the magnifying glass icon allows you to search a large database of GeoGebra applets.  
        </p>
      </li>
      <li>
        <p>
          <url href="https://sagecell.sagemath.org/">Sage Single Cell Server</url>, a browser based way to run a single cell of Sage code to do calculations or produce plots that does not require a local installation of Sage. The authors also use JupyterLab notebooks with a Sage kernel for multiple purposes. You can find online installation instructions using WSL (on Windows systems) as well as Mac or Linux OS options
        </p>
      </li>
      <li>
        <p>
          <url href="http://www.wolframalpha.com/">Wolfram Alpha</url>, an online tool for a variety of mathematical tasks, particularly useful for graphing surfaces in 2D and 3D, and for general calculations.
        </p>
      </li>
      <!--<li>
        <p>
          <url href="http://www.wolframalpha.com/widgets/gallery/?category=math">Wolfram Alpha widgets</url>, searchable site for simple to use programs using Wolfram Alpha
        </p>
      </li>
      
      <li>
        <p> 
          <url href="http://www.math.uri.edu/~bkaskosz/"><c>A collection of Flash Mathlets</c></url> for graphing surfaces, parametric curves in 3D, spherical coordinates and other 3D tools. Requires Flash Player. 
        </p>
      </li> -->
    </ul>
  </p>
</preface>
