<?xml version="1.0"?>
<!-- **********************************************************************-->
<!-- Copyright 2013-2024                                                   -->
<!-- Nicholas Long, Mitchel Keller, Steven Schlicker                       -->
<!--                                                                       -->
<!-- This file is part of Active Calculus Multivariable.                   -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-NC-SA license.  The work   -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike"; no party may sell this work or any of its    -->
<!-- derivatives for profit.  All trademarks are the registered marks of   -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->
<section xml:id="S-VVF-Calculus" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Calculus of Vector-Valued Functions of One Variable</title>
  
    <objectives>
        <ul>
          <li>
            <p>
              What do we mean by the derivative of a vector-valued function and how do we efficiently calculate it?
            </p>
          </li>

          <li>
            <p>
              What does the derivative of a vector-valued function measure?
            </p>
          </li>

          <li>
            <p>
              What do we mean by the integral of a vector-valued function and how do we effieciently calculuate it?
            </p>
          </li>

          <li>
            <p>
              How do we describe the motion of a projectile if the only force acting on the object is acceleration due to gravity?
            </p>
          </li>
        </ul>
    </objectives>

    <introduction>
    <!-- <p>
      A vector-valued function <m>\vr</m> determines a curve in space as the
      collection of terminal points of the vectors <m>\vr(t)</m>. If the curve is
      smooth, it is natural to ask whether <m>\vr(t)</m> has a derivative. In
      the same way, our experiences with integrals in single-variable
      calculus prompt us to wonder what the integral of a vector-valued
      function might be and what it might tell us. We
      explore both of these questions in detail in this section.
    </p>

    <p>
      For now, let's recall some important ideas from calculus I. Given a
      function <m>s</m> that measures the position of an object moving along
      an axis, its derivative, <m>s'</m>, is defined by
      <me>
        s'(t) = \lim_{h \to 0} \frac{s(t+h) - s(t)}{h},
      </me>
      and measures the instantaneous rate of change of <m>s</m> with respect to
      time. In particular, for a fixed value <m>t = a</m>, <m>s'(a)</m> measures the
      velocity of the moving object, as well as the slope of the tangent
      line to the curve <m>y = s(t)</m> at the point <m>(a,s(a))</m>.
    </p>

    <p>
      As we work with vector-valued functions, we will strive to update
      these ideas and perspectives into the context of curves in space and
      outputs that are vectors.
    </p> -->
    <p>
      In your first calculus course, you looked at the new operations of limits, derivatives, and integrals and used these to measure change and accumulation . Each of these ideas and its applications was likely introduced as a way to measure something specific by approximating the measurement and then looking at how to improve this approximation. Limits offer a powerful tool to precisely describe how these approximations will converge to the relevant measurement. This process is what we will call the <term>classic calculus approach</term>: 1) approximate the measurement, 2) quantify how the approximation changes on a finer scale, and 3) use a limit to show how the approximation converges to the measurement of interest. 
    </p>
    <p>
      Before we start our work on the calculus of vector valued functions, we will review some key ideas involving the classic calculus approach, limits, differentiation, and integration. This review is not meant to be comprehensive but is intended to ensure that all students are reminded of key concepts that will be vital for our development of calculus for new types of of functions. We will provide links to activities where you can review and explore the ideas from single variable calculus.
    </p>
    <p>
      Limits: The limit of a function measures what the output of the function approaches as an input gets closer to a particular value. Limits are examples of local measurements, since they describe a measurement that applies to a region around a particular value. Remember that a limit does <em>not</em> measure what is happening at the particular input value; the limit describes behavior in a region <em>around</em> the particular input value. In fact, limits are most useful and interesting when evaluating the function at the particular input value does not make sense. For instance, 
      <me>\lim_{x \rightarrow 5} x^2-2x+1</me> 
      is not a very interesting limit because the function we are taking the limit of will output the value of the limit. In other words, substituting in <m>x=5</m> into <m>x^2-2x+1</m> will provide the same result as taking the limit as <m>x</m> approaches <m>5</m>. These kinds of functions are called continuous functions and while continuous functions are important and nice, evaluating and understanding limits of continuous functions does not offer a different insight or understanding. WYSIWYG.
    </p>
    <p>
      A more interesting limit would be 
      <me>\lim_{x \rightarrow 5} \frac{x^2-25}{x-5}</me>
      This limit is of an indeterminant form which means that we will need to use other tools other than just attempting to substitute the particular input into different parts of the function. This limit (and many of the limits you looked at in your definitions of calculus operations) is of the form
      <m>\lim_{a \rightarrow 0} f(a)g(a)</m> with <m>\lim_{a \rightarrow 0} f(a) = 0</m> and <m>\lim_{a \rightarrow 0} g(a) \Rightarrow \infty</m>. Note that because this limit can't be evaluated by substitution, does not mean the limit does not exist; We will have to use other tools to find the limit value (if the limit value does exist). 
    </p>
    <p>
      Differentiation: The derivative of a function measures the rate of change of the function at a particular input value. Geometrically this is commonly visualized as the slope of a line tangent to the graph of the function at the point corresponding to the particular input value. The derivative is again a local measurement because the rate of change or slope of the tangent line only models the behavior of the function for an arbitrarily small region around the input value. The derivative is approximated with the average rate of change over an interval which corresponds to the slope of a secant line. If you move the points involved in the secant line closer to the particular input value, your approximation will be closer to the true rate of change at the particular input value. Thus by looking at the limit as the change in the inputs goes to zero of the difference quotient for the change in the output over the change in the input of the function, we can get the true rate of change for the function.
    </p>
    <figure xml:id="secantlines">
      <caption>Three plots of secant lines with <m>h\rightarrow0</m> </caption>
      <sidebyside widths="33% 33% 33%">
        <image width="100%" xml:id="img-secline1">
            <sageplot>
              var('t,x')
              f(x)=x^3-3*x^2+x
              a=1/2
              f0=f(a)
              plot2=plot(f(x),(x,-0.25,0.75),color="black",axes=False,thickness=3,xmin=-0.25,xmax=0.75,ymin=-0.5,ymax=0.25)
              plot2+=point((a,f0),color="black",size=50,zorder=5)
              plot2+=text("$P:(a,f(a))$",(0.65,-0.1),color="black",fontsize=20)
              h=0.5
              f1=f(a-h)
              plot2+=point((a-h,f1),color="blue",size=50,zorder=5)
              plot2+=plot((f0-f1)/h*(x-a)+f0,(x,-0.25,0.75),color="blue",thickness=2)
              plot2+=line([(a,f0),(a-h,f0)],color="green",thickness=2)
              plot2+=line([(a-h,f0),(a-h,f1)],color="orange",thickness=2)
              plot2+=text("$h$",(a-h/2,f0-0.05),color="green",fontsize=20)
              plot2+=text("$f(a)-f(a-h)$",(-0.25,-0.05),color="orange",fontsize=20)
              plot2
            </sageplot>
          </image>
          <image width="100%" xml:id="img-secline2">
            <sageplot>
              var('t,x')
              f(x)=x^3-3*x^2+x
              a=1/2
              f0=f(a)
              plot3=plot(f(x),(x,-0.25,0.75),color="black",axes=False,thickness=3,xmin=-0.25,xmax=0.75,ymin=-0.5,ymax=0.25)
              plot3+=point((a,f0),color="black",size=50,zorder=5)
              plot3+=text("$P:(a,f(a))$",(0.65,-0.1),color="black",fontsize=20)
              h=0.25
              f1=f(a-h)
              plot3+=point((a-h,f1),color="blue",size=50,zorder=5)
              plot3+=plot((f0-f1)/h*(x-a)+f0,(x,-0.25,0.75),color="blue",thickness=2)
              plot3+=line([(a,f0),(a-h,f0)],color="green",thickness=2)
              plot3+=line([(a-h,f0),(a-h,f1)],color="orange",thickness=2)
              plot3+=text("$h$",(a-h/2,f0-0.05),color="green",fontsize=20)
              plot3+=text("$f(a)-f(a-h)$",(0.10,-0.05),color="orange",fontsize=18)
              plot3
            </sageplot>
          </image>
          <image width="100%" xml:id="img-secline3">
            <sageplot>
              var('t,x')
              f(x)=x^3-3*x^2+x
              a=1/2
              f0=f(a)
              plot4=plot(f(x),(x,-0.25,0.75),color="black",axes=False,thickness=3,xmin=-0.25,xmax=0.75,ymin=-0.5,ymax=0.25)
              plot4+=point((a,f0),color="black",size=50,zorder=5)
              plot4+=text("$P:(a,f(a))$",(0.65,-0.1),color="black",fontsize=20)
              h=0.1
              f1=f(a-h)
              plot4+=point((a-h,f1),color="blue",size=50,zorder=5)
              plot4+=plot((f0-f1)/h*(x-a)+f0,(x,-0.25,0.75),color="blue",thickness=2)
              plot4+=line([(a,f0),(a-h,f0)],color="green",thickness=2)
              plot4+=line([(a-h,f0),(a-h,f1)],color="orange",thickness=2)
              plot4+=text("$h$",(a-h/2,f0-0.05),color="green",fontsize=20)
              plot4+=text("$f(a)-f(a-h)$",(0.20,-0.05),color="orange",fontsize=20)
              plot4
            </sageplot>
          </image>
        </sidebyside>
    </figure>
    <p>
      Algebraically, this classic calculus approach looks like
      <md>
        <mrow>\text{rate of change of }f \amp\approx \frac{f(a+h)-f(a)}{h} \quad \quad \quad \text{(slope of secant line)}</mrow>
        <mrow>\text{rate of change of }f \amp=\lim_{h\rightarrow 0} \frac{f(a+h)-f(a)}{h}  \quad \quad \quad \text{(slope of tangent line)}</mrow>
      </md>
      Note that other derivative definitions correspond to different ways to think about how the two nearby points involved in the secant line can approach the input of interest. The formula above approaches the point of interest from the left, but derivative formulas exist for the right difference or center difference methods; When taking the limit, all of these formulas calculate the same value for the derivative since there is only one instantaneous rate of change for the function at the point <m>(a,f(a))</m>. 
    </p>
    <p>
      You may not have noticed but the limit formula for the derivative at a point is of the form of our <q>interesting</q> limits from above because 
      <me>\lim_{h\rightarrow 0} (f(a+h)-f(a)) \frac{1}{h}</me> 
      with 
      <me>\lim_{h \rightarrow 0} f(a+h)-f(a)=0 \quad \text{and} \quad \lim_{h \rightarrow 0} \frac{1}{h} \Rightarrow \infty</me> 
      This meant that we needed other tools to evaluate the limit involved in derivatives which you likely skipped over in your first semester calculus course.
    </p>
    <p>
      You likely also generalized the derivative at a point to <m>f'(x)=\frac{df}{dx}</m>, a function which outputs the rate of change of <m>f</m> for the input value <m>x</m>. This gave a functional approach to derivatives which allowed you to use many rules for efficiently calculating derivatives (power rule, sum/difference, coefficient rules, product rule, chain rule, etc.) as well as the ability to take derivatives of derivatives (to measure new features like concavity). 
    </p>
    <p>
      Integration: The integral of a function on an interval measures the signed area between the graph of the function and the horizontal axis. This area was approximated by breaking the interval of interest into subintervals and using rectangles with widths given by each subinterval and heights given by the functions output for some value in the subinterval. By adding up the area of these rectangles, we could approximate the actual area under the curve. If we uses smaller and smaller subintervals, this rectangular approximation would get closer to the true area under the curve. Thus taking the limit of the sum of the area of these rectangles as the width of all of the subintervals goes to zero will give the true area under the curve. 
    </p>
    <figure xml:id="Riemannsum1">
      <caption>At left and center, two left Riemann sums for a function <m>f</m> that is sometimes negative; at right, the exact areas bounded by <m>f</m> on the interval <m>[a,d]</m> (image from https://activecalculus.org/single/sec-4-3-definite-integral.html#F-4-3-IncreaseN) </caption>
      <image source="images/4_2_NegF">
        <shortdescription>(for accessibility)</shortdescription>
      </image>
    </figure>
   
    <p>
      While you likely investigated many rules for selecting which point you use to find the height of the rectangles in your approximation (right endpoint, left endpoint, midpoint, trapezoidal rule, etc.), the actual value of the integral does not depend on this choice. This classic calculus approach takes the form 
      <md>
        <mrow>\text{area under the graph of }f \amp\approx \sum_{i=0}^n f(x_i^*) \Delta x_i </mrow>
        <mrow>\text{area under the graph of }f \amp=\lim_{\Delta x_i \rightarrow 0} \sum_{i=0}^n f(x_i^*) \Delta x_i </mrow>
      </md>
      If we use equally sized subintervals in our approximation, then the Riemann sum argument above fits the form of our <q>interesting</q> limits; namely 
      <me>\lim_{\Delta x \rightarrow 0} \sum_{i=0}^n f(x_i^*) \Delta x</me> 
      with 
      <me>\lim_{\Delta x \rightarrow 0} \Delta x =0 \quad \text{and} \quad \lim_{n \rightarrow \infty} \sum_{i=0}^n f(x_i^*) \Rightarrow \infty </me>
      Note when the number of subintervals gets larger, this exactly corresponds to the width of these equally sized subintervals going to zero. 
    </p>
    <proposition xml:id="accumulation">
      <statement>
        <p>
          You may have generalized the idea of the definite integral by looking at the accumulation of a function. We will spend some time and more detail on this idea here because this is will be important for our uses later and many students may not have seen or fully understood these steps. In this description, we will look at an object moving in one dimension (along the number line) in which we are trying to find the position of the object as a function (<m>x(t)</m>) when we know the starting position (<m>x(0)=x_0</m>) and the velocity of the object (<m>v(t)=\frac{dx}{dt}=x'(t)</m>).
        </p>
      </statement>
      <proof>
        <p>
          In many physical problems it is much easier to measure and keep track of velocity rather than position. This is because velocity is a local measurement but position isn't. This may sound a little weird so we will look at our analogy of piloting a car (or a bike or boat or spaceship, if you prefer). If you were to try to keep track of your position for all times on a trip in your car/bike/boat/spaceship, you would need to set up a coordinate system and constantly measure your distance to things like your axes or coordinate planes to find your location. This means you have to measure well outside of your car/bike/boat/spacecraft and this requires an external view of your car/bike/boat/spacecraft. This is why systems like GPS satellites and receivers are necessary for accurate global navigation. Note here that your car doesn't need something outside of itself to measure its speed because the speed is a measure of how much position changes relative to a small step around wherever you are.
        </p>
        <p>
          So the big idea we will use is that velocity is the change in position over time, <m>\text{velocity}=\frac{\Delta \text{position}}{\Delta \text{time}}</m>, which means that we can measure a <em>change</em> in position by taking the velocity times the change in time (<m>\Delta \text{position}=\text{velocity} \Delta \text{time}</m>) if velocity is constant. We can use a classic calculus approach to use velocity to approximate, refine, then precisely state the position as a function of time. 
        </p>
        <p>
          Starting at time <m>0</m>, we know the position of our object because <m>x(0)=x_0</m>, so we need to use the velocity to measure the change in position (on the number line) between <m>t=0</m> and time <m>t=a</m>. We will approximate this change in position using <m>\Delta \text{position}=\text{velocity} \Delta \text{time}</m>. In particular, we will break up the interval <m>[0,a]</m> into <m>n</m> equally sized pieces (<m>\Delta t= \frac{a}{n}</m> where <m>t_0=0, t_1=\Delta t, \ldots, t_{n-1}=(n-1)\Delta t, t_n =a</m>).  Mathematically, the position at <m>t=a</m> will be given by
          <me>x(t=a)=x_0+ \Delta x_1 + \ldots + \Delta x_n </me>
          where <m>\Delta x_i</m> is change in position from <m>t_{i-1}</m> to <m>t_i</m>. 
        </p>
        <p>
          On each piece we will approximate the change in position by taking the velocity for some time in this interval and multiply by <m>\Delta t</m>. We evaluate the velocity at some point in the interval <m>[t_{i-1},t_i]</m> , which we will denote <m>v(t_i^*)</m>, which means our estimate will be <m>\Delta x_i \approx v(t_i^*) \Delta t </m>. Our estimate of the position of our object at <m>t=a</m> will be given by
          <me>
            x(a)\approx x_0+\sum_{i=1}^n v(t_i^*) \Delta t \quad \quad \text{for some }t_i^*\in[t_{i-1},t_i] 
          </me>
          This approximation is step one of our classic calculus approach and sets ourselves up well for step 2.
        </p>
        <p>
          For step 2 of our classic calculus approach, we will need to understand how this approximation will work on a finer scale. A finer scale in this case means a larger number of subintervals (<m>n</m>) which means that <m>\Delta t</m> gets smaller. In other words, a finer scale means more terms in our sum but a smaller step multiplier (<m>\Delta t</m>). Our estimate becomes a Riemann sum where the function being evaluated in the Riemann sum is the velocity of the object. Recognizing this means that we can use our knowledge of how limits of Riemann sums become definite integrals to do step three of our classic calculus approach. So as <m>n\rightarrow \infty</m> or <m>\Delta t \rightarrow 0</m>,
          <me>
            x_0+\sum_{i=1}^n v(t_i^*) \Delta t \Rightarrow x(a)=x_0+\int_0^{a} v(t) \enspace dt
          </me>
        </p>
        <p>
          In practice, this approximation is what GPS systems do a very fine level; namely, use hyper-accurate timing and changes in distances to satellites to give current position. Accumulation will also apply to many situations when working with the density of a material as well. For instance, if you drive a mining machine that harvests a mineral from the surface, that amount you harvest is going to be the accumulation of the different densities of the mineral along the path you drove. Mathematically this looks like
          <md>
            <mrow>\text{total harvested} \amp= \sum \text{amount in each section driven} </mrow>
            <mrow>      \amp\approx \sum (\text{density}) (\text{length of the section}) </mrow>
          </md>
          where this Riemann sum becomes a definite integral. This idea of accumulation of a function is something we will use in most chapters from here out, so we will return to these ideas as they are needed. You can look at Chapter 5 of Active Calculus for activities involving accumulation as well as ideas like antiderivatives and indefinite integrals as a functional generalization of integration.
        </p>
      </proof>
    </proposition>
    <p>
      In this course, we will use the structure of the classical calculus approach to investigate properties of new kinds of functions, equations, and graphs. Later in this section, we will to investigate the meaning of limits, derivatives, and integrals on our new class of functions, vector valued functions of one variable. Additionally, we will connect these measurements to properties of curves in space as the graphs of these vector valued functions. As we expand our perspective and scope of study, you will hopefully see deeper meanings in and a greater appreciation for the definitions of limits, derivative, and integrals from your first calculus course. 
    </p>
    <exploration xml:id="PA_9_7">
      <introduction>
        <p>
          As the only employee of <em>Steer Clear</em>, you have decided that you need to understand how the timing of position measurements will change different measurements needed for your self driving car. You decide to drive in a figure eight path described by <m>\vr_8(t)=\langle \cos(t),\sin(2t) \rangle </m> for <m>0 \leq t \leq 2 \pi</m>. A plot of this path is given in <xref ref="PA-vvfcalc1" />.
        </p>
        <figure xml:id="PA-vvfcalc1">
          <caption>A plot of the figure eight curve given by <m>\vr_8(t)=\langle \cos(t),\sin(2t) \rangle </m> for <m>0 \leq t \leq 2 \pi</m></caption>
          <image width="75%" xml:id="img-PAvvfcalc1">
            <sageplot>
              var('t,x')
              plot1=parametric_plot((cos(t),sin(2*t)), (t,0,2*pi),aspect_ratio=1,gridlines=True,color="black",thickness=2,xmin=-1,xmax=1,ymin=-1,ymax=1)
              plot1
            </sageplot>
          </image>
        </figure>
      </introduction>
      <task>
        <statement>
          <p>
            In order to understand how often to have your software collect location data, you decide to look at your position for a few different times. Calculate the following and draw the output vectors of <m>\vr_8</m> on a plot of the curve. You should state your answer with components rounded to three decimal places. 
            <ol>
              <li><m>\vr_8(3)</m></li>
              <li><m>\vr_8(3.1)</m></li>
              <li><m>\vr_8(3.14)</m></li>
            </ol>
            These correspond to the locations that would be sampled if wanted to know the location of our car at <m>\vr_8(\pi)</m> but collected data every second, every tenth of a second, and hundredth of a second (respectively). 
          </p>
        </statement>
      </task>
      <task xml:id="vvf-limitPA" >
        <statement>
          <p>
            Write a couple of sentences to describe (geometrically and algebraically) what happens to the output of <m>\vr_8(t)</m> as <m>t\rightarrow\pi</m>.
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Calculate <m>\vr_8(\pi)</m> and <m>\vr_8(\pi)-\vr_8(3)</m>. Plot <m>\vr_8(\pi)</m>, <m>\vr_8(3)</m>, and <m>\vr_8(\pi)-\vr_8(3)</m> on a graph of the figure eight curve. 
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Compute <m>\frac{\vr_8(\pi)-\vr_8(3)}{\pi-3}</m> and explain how this calculation is different than the result of the previous step.
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            How would you expect <m>\frac{\vr_8(\pi)-\vr_8(3.1)}{\pi-3.1}</m> to be different than <m>\frac{\vr_8(\pi)-\vr_8(3)}{\pi-3}</m>. Use this idea write about what is measured by <m>\frac{\vr_8(\pi)-\vr_8(\pi-h)}{h}</m> if we look at smaller and smaller values of <m>h</m>. Remember to be specific about what aspects of our curve or drive are being measured.
          </p>
        </statement>
      </task>
<!--
      <statement>
       <p>
        Let <m>\vr(t) = \cos(t) \vi + \sin(2t) \vj</m> describe the path traveled by an object at time <m>t</m>.
        <ol marker="a.">
          <li>
            <p>
              Use appropriate technology to help you sketch the graph of the vector-valued function <m>\vr</m>, and then locate and label the point on the graph when <m>t=\pi</m>.
            </p>
          </li>

          <li>
            <p>
              Recall that for functions of a single variable, the derivative of a sum is the sum of the derivatives; that is, <m>\frac{d}{dx}[f(x) + g(x)] = f'(x) + g'(x)</m>. With this idea in mind and viewing <m>\vi</m> and <m>\vj</m> as constant vectors, what do you expect the derivative of <m>\vr</m> to be?  Write a proposed formula for <m>\vr'(t)</m>.
            </p>
          </li>

          <li>
            <p>
              Use your result from part (b) to compute <m>\vr'(\pi)</m>. Sketch this vector <m>\vr'(\pi)</m> as emanating from the point on the graph of <m>\vr</m> when <m>t=\pi</m> , and explain what you think <m>\vr'(\pi)</m> tells us about the object's motion.
            </p>
          </li>
        </ol>
      </p>
      </statement>
      <solution>
        <ol marker="a.">
          <li>
            <p>
              The graph of <m>\vr(t)</m> is shown below,
              with the point <m>(-1,0)</m> at <m>t=pi</m> indicated as the solid point on the graph.
              <image width="73%" source="images/fig_9_7_PA_a"/>
            </p>
          </li>
          <li>
            <p>
              If the derivative of a sum is the sum of the derivatives,
              then we should expect that
              <me>
                \vr'(t) = \frac{d}{dt} \cos(t) \vi + \frac{d}{dt} \sin(2t) \vj = -\sin(t) \vi + 2\cos(2t) \vj
              </me>.
            </p>
          </li>
          <li>
            <p>
              Using our rule for <m>\vr'(t)</m> we have <m>\vr'(\pi) = 2 \vj</m>.
              A sketch of this vector <m>\vr'(\pi)</m> as emanating from the point on the graph of <m>\vr</m> when <m>t=\pi</m> is shown below.
              This looks like a direction vector for the line tangent to the graph of <m>\vr</m> at the point where <m>t = \pi</m>.
              In other words,
              this vector <m>\vr'(t)</m> is the velocity vector of the object at time <m>t = \pi</m>.
              <image width="73%" source="images/fig_9_7_PA_b"/>
            </p>
          </li>
        </ol>
      </solution> -->
    </exploration>
    <p>
      In <xref ref="vvf-limitPA" />, we examined what the limit of a vector valued function will look like; specifically, the limit of a vector valued function (of one variable) has the same meaning as in your first calculus course. The limit of a function is a measure of what the output approaches as the input gets closer to a particular value. We will not state the formal version of limits of vector valued functions of one variable, but rather will appeal to the very important idea that limits can be defined and calculated componentwise. If <m>\vr(t)=\langle x_1(t),\ldots,x_n(t)\rangle</m>, then the limit of <m>\vr</m> as <m>t\rightarrow a</m> exists if all of the limits <m>x_i(t)</m> exist as <m>t\rightarrow a</m>. In other words, the limit of a vector valued function of one variable is the same as the limits of the <m>n</m> component functions organized as a vector. 
      <me>
        \lim_{t\rightarrow a} \langle f(t),g(t),h(t) \rangle = \langle \lim_{t\rightarrow a} f(t) , \lim_{t\rightarrow a} g(t) , \lim_{t\rightarrow a} h(t) \rangle
      </me>
    </p>
  </introduction>


  <subsection xml:id="vvf-derivative">
    <title>The Derivative</title>
    <p>
      In single variable calculus, we define the derivative, <m>f'</m>, of a given function <m>f</m> by
      <me>
        f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h},
      </me>
      provided the limit exists. At a given value of <m>a</m>, <m>f'(a)</m> measures the instantaneous rate of change of <m>f</m>, and also tells us the slope of the tangent line to the curve <m>y = f(x)</m> at the point <m>(a, f(a))</m>. The definition of the derivative extends naturally to vector-valued functions and curves in space.
    </p>

    <definition xml:id="vvf-derivative-defn">
      <statement>
        <p>
          The <term>derivative</term><idx><h>vector-valued function</h><h>derivative</h></idx> of a vector-valued function <m>\vr</m> is defined to be
          <me>
            \vr'(t) = \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
          </me>
          for those values of <m>t</m> at which the limit exists. We also use the notation <m>\frac{d\vr}{dt}</m> and <m>\frac{d}{dt}[\vr(t)]</m> for
          <m>\vr'(t)</m>.
        </p>
      </statement>
    </definition>
    <p>
      We will take a moment here to note that both the single variable calculus definition of derivative and <xref ref="vvf-derivative-defn" /> have the form of the classic calculus approach described above. In particular, both definitions are of the form
      <me>\text{derivative}=\lim_{stepsize\rightarrow0} \frac{\text{change in output of function}}{\text{change in input of function}}</me>
    </p>
    <!-- <activity xml:id="A_9_7_1">
      <statement>
      <p>
        Let's investigate how we can interpret the derivative <m>\vr'(t)</m>. Let <m>\vr</m> be the vector-valued function whose graph is shown in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>, and let <m>h</m> be a scalar that represents a small change in time. The vector <m>\vr(t)</m> is the blue vector in <xref ref="F_9_7_VVF_tan_vector">Figure</xref> and <m>\vr(t+h)</m> is the green vector.
      </p>

      <figure xml:id="F_9_7_VVF_tan_vector">
        <caption>A single difference quotient.</caption>
        <image width="50%" source="images/fig_9_7_curve_1"/>
      </figure>

      <ol marker="a.">
        <li>
          <p>
            Is the quantity <m>\vr(t+h)-\vr(t)</m> a vector or a scalar? Identify this object in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>.
          </p>
        </li>

        <li>
          <p>
            Is <m>\frac{\vr(t+h)-\vr(t)}{h}</m> a vector or a scalar? Sketch a representative vector <m>\frac{\vr(t+h)-\vr(t)}{h}</m> with <m>h \lt  1</m> in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>.
          </p>
        </li>

        <li>
          <p>
            Think of <m>\vr(t)</m> as providing the position of an object moving along the curve these vectors trace out.  What do you think that the vector <m>\frac{\vr(t+h)-\vr(t)}{h}</m> measures? Why?  (Hint: You might think analogously about difference quotients such as <m>\frac{f(x+h) - f(x)}{h}</m> or <m>\frac{s(t+h) - s(t)}{h}</m> from calculus I.)
          </p>
        </li>

        <li>
          <p>
            <xref ref="F_9_7_VVF_tan_vector_quotients">Figure</xref> presents three snapshots of the vectors <m>\frac{\vr(t+h)-\vr(t)}{h}</m> as we let <m>h \to 0</m>. Write 2-3 sentences to describe key attributes of the vector
            <me>
              \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}.
            </me>
            (Hint: Compare to limits such as <m>\lim_{h \to 0} \frac{f(x+h) - f(x)}{h}</m> or <m>\lim_{h \to 0} \frac{s(t+h) - s(t)}{h}</m> from calculus I, keeping in mind that in three dimensions there is no general concept of slope.)
          </p>
        </li>
      </ol>

      <figure xml:id="F_9_7_VVF_tan_vector_quotients">
        <caption>Snapshots of several difference quotients.</caption>
        <sidebyside widths="33% 33% 33%" margins="0%">
        <image source="images/fig_9_7_animate_02"/>
        <image source="images/fig_9_7_animate_04"/>
        <image source="images/fig_9_7_animate_06"/>
        </sidebyside>
      </figure>
    </statement>
    <solution>
      <ol marker="a.">
        <li>
          <p>
            The quantity <m>\vr(t+h)-\vr(t)</m> is a vector quantity,
            the vector from the terminal point of <m>\vr(t)</m> to the terminal point of <m>\vr(t+h)</m>.
          </p>
        </li>
        <li>
          <p>
            The quantity <m>\frac{\vr(t+h)-\vr(t)}{h}</m> is a vector quantity,
            it is a vector in the direction of
            <m>\vr(t+h)-\vr(t)</m> that is <m>\frac{1}{h}</m> times as long.
          </p>
        </li>
        <li>
          <p>
            The vector <m>\vr(t+h)-\vr(t)</m> represents a change in position of the object on the time interval <m>[t, t+h]</m>.
            When we multiply by <m>\frac{1}{h}</m>,
            we can consider this vector
            <m>\frac{\vr(t+h)-\vr(t)}{h}</m> as an average change of position,
            or the average velocity vector of the object on the interval <m>[t,t+h]</m>.
          </p>
        </li>
        <li>
          <p>
            As <m>h \to 0</m>, the average velocity vectors
            <m>\frac{\vr(t+h)-\vr(t)}{h}</m> approach the instantaneous velocity vector.
            The average velocity vector
            <m>\frac{\vr(t+h)-\vr(t)}{h}</m> is a direction vector for the secant line to the curve that passes through the terminal points of <m>\vr(t)</m> and <m>\vr(t+h)</m>.
            As we let <m>h \to 0</m>,
            these direction vectors approach a direction vector
            <me>
              \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
            </me>
            of the tangent line to the curve at the terminal point of <m>\vr(t)</m>.
          </p>
        </li>
      </ol>
    </solution>
    </activity> -->
    <p>
      Let <m>\vr</m> be the vector-valued function whose graph is shown in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>, and let <m>h</m> be a scalar that represents a small change in time. The vector <m>\vr(t)</m> is the blue vector in <xref ref="F_9_7_VVF_tan_vector">Figure</xref> and <m>\vr(t+h)</m> is the green vector.
    </p>

    <figure xml:id="F_9_7_VVF_tan_vector">
      <caption>A single difference quotient of a vector valued function</caption>
      <image width="50%" source="images/fig_9_7_curve_1"/>
    </figure>

    <p>
      If <m>\vr(t)</m> determines the <term>position</term> of an object at time <m>t</m>, then <m>\frac{\vr(t+h)-\vr(t)}{h}</m>
      represents the average rate of change in the position of the object over the interval <m>[t,t+h]</m>, which is also the <term>average velocity</term> of the object on this interval. Thus, the derivative
      <me>
        \vr'(t) = \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
      </me>
      is the instantaneous rate of change of <m>\vr(t)</m> at time <m>t</m> (for those values of <m>t</m> for which the limit exists), so <m>\vr'(t) = \vv(t)</m> is the instantaneous <term>velocity</term> of the object at time <m>t</m>. Furthermore, we can interpret the derivative <m>\vr'(t)</m> as the direction vector of the line tangent to the graph of <m>\vr</m> at the value <m>t</m>.
    </p>
    <figure xml:id="F_9_7_VVF_tan_vector_quotients">
      <caption>Snapshots of several difference quotients as <m>h</m> gets smaller</caption>
      <sidebyside widths="33% 33% 33%" margins="0%">
      <image source="images/fig_9_7_animate_02"/>
      <image source="images/fig_9_7_animate_04"/>
      <image source="images/fig_9_7_animate_06"/>
      </sidebyside>
    </figure>
    <p>
      Similarly,
      <me>
        \vv'(t) = \vr''(t) = \lim_{h \to 0} \frac{\vv(t+h)-\vv(t)}{h}
      </me>
      is the instantaneous rate of change of the velocity of the object at time <m>t</m>, for those values of <m>t</m> for which the limits exists, and thus <m>\vv'(t) = \va(t)</m> is the <term>acceleration</term> of the moving object.
    </p>

    <p>
      Both the velocity and acceleration are <em>vector quantities</em>: they have magnitude and direction. By contrast, the magnitude of the velocity vector, <m>\Vert \vv(t) \Vert</m>, which is the <term>speed</term> of the object at time <m>t</m>, is a scalar quantity.
    </p>
  </subsection>

  <subsection>
    <title>Computing Derivatives</title>
    <p>
      As we learned in single variable calculus, computing derivatives using the definition is often difficult. Fortunately, properties of the
      limits and vectors make it straightforward to calculate the derivative of a vector-valued function similar to how we developed shortcut differentiation rules in calculus I. If we breakdown the steps in <xref ref="vvf-derivative-defn" /> we notice that
      <ol>
        <li>vector subtraction (<m>\vr(t+h)-\vr(t)</m>) </li>
        <li>scalar multiplication (multiply by <m>\frac{1}{h}</m>) </li>
        <li>evaluate limit as <m>h\rightarrow 0</m> </li>
      </ol>
      are all evaluated componentwise on our vector valued function. Thus we can apply our derivative rules on each component of <m>\vr(t)</m> to compute the derivative <m>\frac{d\vr}{dt}</m>.
    </p>
    <proposition xml:id="Vector-valued-function-derivative">
      <title>Efficient calculation of the derivative of a vector-valued function</title>
      <statement>
        <p>
          If <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>, then
          <me>
            \frac{d}{dt} \vr(t) = x'(t) \vi + y'(t) \vj + z'(t) \vk
          </me>
          for those values of <m>t</m> at which <m>x</m>, <m>y</m>, and <m>z</m> are differentiable.
        </p>
      </statement>
      <proof>
        <p>
          To see why, recall that the limit of a sum is the sum of the limits, and that we can remove constant factors from limits. Thus, as we observed after <xref ref="PA_9_7">Preview Activity</xref>, if <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>, it follows that
          <md>
            <mrow>\vr'(t) = \mathstrut \amp  \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}</mrow>
            <mrow> = \mathstrut \amp \lim_{h \to 0} \frac{[x(t+h)-x(t)] \vi + [y(t+h)-y(t)] \vj +
            [z(t+h)-z(t)] \vk}{h}</mrow>
            <mrow> = \mathstrut \amp \left(\lim_{h \to 0} \frac{x(t+h)-x(t)}{h}
            \right) \vi + \left( \lim_{h \to 0} \frac{y(t+h)-y(t)}{h} \right) \vj</mrow>
            <mrow> \mathstrut \amp  + \left( \lim_{h \to 0} \frac{z(t+h)-z(t)}{h} \right)\vk</mrow>
            <mrow>\mathstrut \amp = x'(t)\vi + y'(t) \vj + z'(t) \vk.</mrow>
          </md>
          Thus, we can calculate the derivative of a vector-valued function by simply differentiating its components.
        </p>
      </proof>
  </proposition>
  <activity xml:id="A_9_7_2">
    <statement> 
      <p>
        For each of the following vector-valued functions, state any values of <m>t</m> for which the limit will <em>NOT</em> exist, then find <m>\vr'(t)</m>.
        <ol marker="a.">
          <li>
            <p>
              <m>\vr(t) = \langle \cos(t), t\sin(t), \ln(t) \rangle</m>.
            </p>
          </li>
          <li>
            <p>
              <m>\vr(t) = \langle t^2 + 3t, e^{-2t}, \frac{t}{t^2 + 1} \rangle</m>.
            </p>
          </li>
          <li>
            <p>
              <m>\vr(t) = \langle \tan(t), \cos(t^2), te^{-t} \rangle</m>.
            </p>
          </li>
          <li>
            <p>
              <m>\vr(t) = \langle \sqrt{t^4 + 4}, \frac{2}{t^2+t} , e^{2t} \sin(-2t) \rangle</m>.
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution>
      <ol marker="a.">
        <li>
          <p>
            The third component of this function will only exist when <m>t\geq 0</m> and the limit of this function will exist if <m>t\geq 0</m>.
            Differentiating componentwise gives
            <me>
              \vr'(t) = \left\langle -\sin(t), t\cos(t)+\sin(t), \frac{1}{t} \right\rangle
            </me>.
          </p>
        </li>
        <li>
          <p>
            Each component of this function will have limits exist for every input.
            Differentiating componentwise gives
            <me>
              \vr'(t) = \left\langle 2t+3, -2e^{-2t}, \frac{1-t^2}{1+t^2} \right\rangle
            </me>.
          </p>
        </li>
        <li>
          <p>
            The limit of the first component of this function does not exist for inputs of the form <m>\frac{(2k+1)\pi}{2}</m> for <m>k\in\mathbb{Z}</m>. 
            Differentiating componentwise gives
            <me>
              \vr'(t) = \left\langle \sec^2(t), -2t\sin(t^2), -te^{-t}+e^{-t} \right\rangle
            </me>.
          </p>
        </li>
        <li>
          <p>
            Each component of this function will have limits exist for every input.
            Differentiating componentwise gives
            <me>
              \vr'(t) = \left\langle \frac{2t^3}{\sqrt{t^4 + 4}}, 3\cos(3t), -4\sin(4t) \right\rangle
            </me>.
          </p>
        </li>
      </ol>
    </solution>
  </activity>
  <p>
    In first-semester calculus, we developed several important differentiation rules, including the constant multiple, product, quotient, and chain rules. For instance, recall that we formally state the product rule as
    <me>
      \frac{d}{dx}[f(x)  g(x)] = f(x) g'(x) + g(x) f'(x).
    </me>
  </p>
  <p>
    There are several analogous rules for vector-valued functions, including a product rules for each of the kinds of multiplication we have defined involving vectors. These rules, which are easily verified, are summarized as follows.
  </p>

  <assemblage xml:id="Vector-valued-functions-derivative-properties">
    <title>Properties of derivatives of vector-valued functions</title>
    <p>
      Let <m>f</m> be a differentiable real-valued function of a real variable <m>t</m> and let <m>\vr</m> and <m>\vs</m> be
      differentiable vector-valued functions of the real variable <m>t</m>. Then
      <ol>
        <li>
          <p>
            <m>\frac{d}{dt} \left[\vr(t) + \vs(t) \right] = \vr'(t) + \vs'(t) \quad \quad  \text{(sum rule)} </m>
          </p>
        </li>
        <li>
          <p>
            <m>\frac{d}{dt} [f(t) \vr(t)] = f(t) \vr'(t) + f'(t) \vr(t) \quad \quad \text{(scalar mult. product rule)} </m>
          </p>
        </li>
        <li>
          <p>
            <m>\frac{d}{dt} \left[\vr(t) \cdot \vs(t) \right] = \vr'(t) \cdot \vs(t) + \vr(t) \cdot \vs'(t) \quad \quad \text{(dot product rule)} </m>
          </p>
        </li>
        <li>
          <p>
            <m>\frac{d}{dt} \left[\vr(t) \times \vs(t) \right] = \vr'(t)  \times \vs(t) + \vr(t) \times \vs'(t) \quad \quad \text{(cross product rule)} </m>
          </p>
        </li>
        <li>
          <p>
            <m>\frac{d}{dt} \left[\vr(f(t))\right] = f'(t)  \  \vr'(f(t))  \quad \quad \text{(chain rule)} </m>
          </p>
        </li>
      </ol>
    </p>
  </assemblage>
  <p>
    When applying these properties, pay attention to whether the quantities involved as either scalars or vectors. For example, <m>\vr(t) \cdot \vs(t)</m> defines a scalar function because we have taken the dot product of two vector-valued functions. However, <m>\vr(t) \times \vs(t)</m> defines a vector-valued function since we have taken the cross product of two vector-valued functions.
  </p>
  <p>
    In the next several sections of this chapter, we will examine how to utilize calculus tools and vector measurements to calculate different properties of curves in space and the associated velocity and acceleration vectors that come from their parameterizations. <xref ref="A_9_7_8" /> offers some good practice on using calculus tools on vector valued functions and previews some ideas that will be used in later sections of this chapter. 
  </p>
</subsection>
<subsection>
  <title>Tangent Lines</title>
  <p>
    One of the most important ideas in first-semester calculus is that a differentiable function is <em>locally linear</em>: that is, when viewed up close, the curve generated by a differentiable function looks very much like a line. Indeed, when we zoom in sufficiently far on a particular point, the curve looks indistinguishable from its tangent line. You can look at <xref ref="LLline" /> at the beginning of <xref ref="S-Precalc-Lines" /> for an interactive visualization of this idea.
  </p>
  <p>
    In the same way, we expect that a smooth curve in 3-space will be locally linear if the graph of the curve will look like a line when you zoom in sufficently far. In <xref ref="A_9_7_4" />, we investigate how to find the tangent line to such a curve. Recall from our work in <xref ref="S-Precalc-Lines">Section</xref> that the vector equation of a line that passes through the point at the tip of the vector <m>\vL_0 = \langle x_0, y_0, z_0 \rangle</m> in the direction of the vector <m>\vu = \langle a, b, c \rangle</m> can be written as
    <me>
      \vL(t) = \vL_0 + t \vu.
    </me>
  </p>
  <p>
    The line described by <m>\vL</m> in parametric form is given by
    <me>
      x(t) = x_0 + at, \ \ y(t) = y_0 + bt, \ \ z(t) = z_0 + ct
    </me>
  </p>
  <activity xml:id="A_9_7_4">
    <task>
      <statement>
        <p>
          Let
          <me>
            \vr(t) = \cos(t) \vi - \sin(t) \vj + t \vk.
          </me>
          Sketch the curve using some appropriate tool and make a drawing by hand that labels the point at the end of <m>\vr(\pi)</m>. 
        </p>
      </statement>
      <solution>
        <p>
          Since
          <me>
            \vr(\pi) = \cos(\pi) \vi - \sin(\pi) \vj + \pi \vk = -\vi + \pi \vk
          </me>,
          the point on the curve traced out by <m>\vr(t)</m> when <m>t = \pi</m> is <m>(-1,0,\pi)</m>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Find a direction vector for the line tangent to the graph of <m>\vr</m> at the point where <m>t=\pi</m>.
        </p>
      </statement>
      <solution>
        <p>
          The derivative
          <me>
            \vr'(\pi) = -\sin(\pi)\vi - \cos(\pi)\vj + \vk = \vj + \vk
          </me>
          is a direction vector for the line tangent to the graph of <m>\vr</m> at the point where <m>t=\pi</m>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Find the parametric equations of the line tangent to the graph of <m>\vr</m> when <m>t=\pi</m>.
        </p>
      </statement>
      <solution>
        <p>
          Using the point and the direction vector found in (a) and (b), the parametric equations of the line tangent to the graph of <m>\vr</m> when <m>t=\pi</m> are
            <me>
              x(t) = -1, \ \ \ y(t) = t, \ \ \ z(t) = \pi+t
            </me>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          On your plot of the curve <m>\vr(t)</m>, sketch the tangent line corresponding to <m>t = \pi</m> and highlight the role of <m>\vr'(\pi)</m> on your plot.  
        </p>
      </statement>
      <solution>
        <p>
          The sketch below shows the curve <m>\vr(t)</m> and a direction vector <m>\vr'(\pi)</m> for the tangent line to the curve at <m>t=\pi</m>.
          <image width="73%" source="images/9_7_Act29_d_sol1"/>
        </p>
      </solution>
    </task>
  </activity>
  <p>
    We see that our work in <xref ref="A_9_7_4">Activity</xref> can be generalized. Given a differentiable vector-valued function <m>\vr</m>, the tangent line to the curve at the input value <m>a</m> is given by
    <men xml:id="E_TanLineVecFxn">
      \vL(t) = \vr(a) + t \vr'(a).
    </men>
  </p>
  <p>
    Here we see that because the tangent line is determined entirely by a given point and direction, the point is provided by the function <m>\vr</m>, evaluated at <m>t = a</m>, while the direction is provided by the derivative, <m>\vr'</m>, again evaluated at <m>t = a</m>. Note how analogous the formula for <m>\vL(t)</m> is to the tangent line approximation from single-variable calculus: in that context, for a given function <m>y = f(x)</m> at a value <m>x = a</m>, we found that the tangent line can be expressed by the linear function <m>y = L(x)</m> whose
    formula is
    <me>
      L(x) = f(a) + f'(a)(x-a).
    </me>
  </p>
  <p>
    Equation<nbsp/><xref ref="E_TanLineVecFxn"/> for the tangent line <m>\vL(t)</m> to the vector-valued function <m>\vr(t)</m> is nearly identical. Indeed, because there are multiple parameterizations for a single line, it is even possible to write the parameterization
    as
    <men xml:id="E_TanLineVecFxn2">
      \vL(t) = \vr(a) + (t-a)
      \vr'(a).
    </men>
    (For example, in Equation<nbsp/><xref ref="E_TanLineVecFxn"/>, <m>\vL(0) = \vr(a)</m>, so the line's parameterization <q>starts</q> at <m>t = 0</m>.  When we write the parameterization in the form of Equation<nbsp/><xref ref="E_TanLineVecFxn2"/>, <m>\vL(a) = \vr(a)</m>, so the line's parameterization <q>starts</q> at <m>t = a</m>.)
  </p>
  <p>
    As we will learn in <xref ref="C_MVF" />, a smooth surface in 3-space is also locally linear. That means that the surface will look like a plane, which we call its <em>tangent plane</em>, as we zoom in on the graph. It is possible to use tangent lines to traces of the surface to generate a formula for the tangent plane; see <xref ref="Ez_9_7_3">Exercise</xref> for more details.
  </p>
</subsection>
<subsection>
  <title>Integrating a Vector-Valued Function</title>
  <p>
    Recall from your calculus of scalar valued functions, that the definite integral of a function <m>f(x)</m> on the interval <m>[a,b]</m> is defined as 
    <me>
      \int_a^b f(x)  \  dx= \lim_{\Delta x_i \rightarrow 0} \sum_{i=0}^n f(x^*_i) \Delta x_i
    </me>
    Where <m>\Delta x_i</m> is the width of the interval from <m>[x_{i-1},x_i]</m> and <m>x^*_i</m> is some point in <m>[x_{i-1},x_i]</m>. The definite integral measure the (signed) area between the graph of <m>f(x)</m> and the <m>x</m>-axis between <m>x=a</m> and <m>x=b</m>. The definite integral follows our classic calculus approach to measure the accumulation of the output of <m>f</m> over the interval <m>[a,b]</m>. Most students never used this Riemann sum definition to calculate any definite integrals, rather they used the Fundamental Therom of Calculus and the associated antiderivatives to efficiently calculate the value of a definite integral. <url href="https://activecalculus.org/single/sec-4-4-FTC.html#FTC" text="custom">The Fundamental Theorem of Integral Calculus</url> states that if <m>f</m> is a continuous function on <m>[a,b]</m> and <m>F(x)</m> is an antiderivatve of f (<m>\frac{dF}{dx}=f(x)</m>), then 
    <me> \int_a^b f(x)  \  dx = F(b)-F(a)</me>
    The set of functions that are the antiderivative of <m>f(x)</m> is also called the indefinite integral of <m>f(x)</m> and is denoted <m>\int f(x)  \  dx</m>. 
  </p>
  <p>
    We can apply all of the ideas above related to definite and indefinite integrals to vector valued functions of one variable by performing each operation separately on each component (apply integration componentwise).  Thus we 
  </p>
  <assemblage xml:id="Vector-valued-function-integral">
    <title>Integrating a vector-valued function</title>
    <p>
      If <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>, then
      <me>
        \int \vr(t) \ dt = \left(\int x(t) \ dt\right) \vi + \left( \int y(t) \ dt \right) \vj + \left(\int z(t) \ dt\right) \vk.
      </me>
      Similarly, the <term>indefinite integral</term><idx><h>vector-valued function</h><h>indefinite integral</h></idx> <m>\int \vr(t) \ dt</m> of a vector-valued function <m>\vr</m> is the general antiderivative of <m>\vr</m> and represents the collection of all antiderivatives of <m>\vr</m> and is denoted with 
      <me>
        \int \vr  \  dt = \int \langle x(t),y(t),z(t) \rangle  \  dt = \langle \int x(t)  \  dt, \int y(t)  \  dt,\int z(t)  \  dt\rangle
      </me>
      An <term>antiderivative</term><idx><h>vector-valued function</h><h>antiderivative</h></idx> of a vector-valued function <m>\vr</m> is a vector-valued function <m>\vR</m> such that
      <me>
        \vR'(t) = \vr(t).
      </me>
    </p>
  </assemblage>
  <p>
    The area under the curve idea does NOT generalize when we think about the integral of <m>\vr(t)</m>. The integral of <m>\vr</m> is in relation to the input variable <m>t</m> and there is not a <m>t</m>-axis on the graph of <m>\vr(t)</m>. 
  </p>
  <p>
    As described in the introduction to this section, the concept that the definite integral measures the accumulation of the output of your function will generalize to the vector valued function realm. Recall that if <m>v(t)</m> was the velocity of an object traveling on the <m>x</m>-axis, then we could describe the position of the object as 
    <me>
      x(t)=\int_0^t v(u)  \  du + x_0
    </me>
    This was the result of setting up a Riemann sum that looked at the change in position over a small step of time as the velocity on that step times the size of the time step. In other words, 
    <me>
      x(t) \approx x_0 + \sum_{i=0}{n} v(t^*_i) \Delta t
    </me>
  </p>
  <p>
    Applying this accumulation of rates of change or velocity ideas componentwise means that if we are able to separate the velocity of our motion into components, then we can integrate (componentwise!) to get the position in terms of each coordinate separately! Additionally, we can integrate acceleration to get the velocity as a function of <m>t</m>. Whether we are integrating velocity to get position or acceleration to get velocity, it will be necessary to have a particular point (in position or velocity) that will us to solve for the particular integration constant (the <m>+C</m>).
  </p>
  <example xml:id="projectilemotion">
    <p>
      For this example, we will look at the motion of a projectile in two dimensions where the only force on the projectile is gravity. This type of problem applies to sports like archery or shotput or to military applications like mortar or artillery placements, as well applications to firefighting or fireworks construction. This kind of simplified physics problem is common in introductory courses because there is only one force involved, the force is constant (does not change based on location, speed, or time), and the force is in only one coordinate direction. Even this description is a greatly simplified version of how gravity acts in a greater sense. 
    </p>
    <p>
      Newton's second law of motion says that that sum of the forces acting on an object is equal to the mass of the object times the acceleration vector. In our problem, the only force is gravity pulling the object in the negative <m>y</m>-direction. In our example, we will try to completely determine the path traveled by an object that is launched from a fixed position at a given angle from the horizontal with a given initial velocity. This information can be stated as follows: 
      <ul>
        <li>the acceleration is given by <m>m \va(t) = -mg \vj</m> (the only force is gravity pulling down with a constant force)</li>
        <li>the initial position is <m> \vr(0)=\langle x_0,y_0\rangle </m></li>
        <li>the initial velocity is <m>\vv(0)=\frac{\vr}{dt}(0)=\langle v_0 \cos(\theta),v_0 \sin(\theta) \rangle</m></li>
      </ul>
    </p>
    <figure xml:id="F_9_7_Motion">
      <caption>Projectile motion</caption>
      <image width="50%" source="images/fig_9_7_projectile"/>
    </figure>
    <p>
      We can simplify <m>m \va(t) = -mg \vj</m> to get <m>\va(t)=\langle 0,-g\rangle</m>, then integrate acceleration to get the velocity as a function of <m>t</m>. The indefinite integral of <m>\va(t)=\langle 0,-g\rangle</m> with respect to <m>t</m> will be <m>\langle 0,-gt\rangle +\vec{C}</m>, where <m>\vec{C}</m> is some constant vector. We need to pick the constant such that the initial velocity is <m>\vv(0)\langle v_0 \cos(\theta),v_0 \sin(\theta) \rangle</m>, so we will have 
      <me>
        \vv(t)=\langle 0,-gt\rangle+\langle v_0 \cos(\theta),v_0 \sin(\theta) \rangle=\langle v_0 \cos(\theta),v_0 \sin(\theta)-gt \rangle
      </me>
    </p>
    <p>
      We can integrate our velocity function to get the position as a function of <m>t</m>. The indefinite integral of <m>\langle v_0 \cos(\theta),v_0 \sin(\theta)-gt \rangle</m> will be 
      <me>
        \langle v_0 \cos(\theta) t ,v_0 \sin(\theta)t- \frac{1}{2}gt^2 \rangle+ \vec{C}
      </me>
      Again we need to pick the integration constant, <m>\vec{C}</m>, that satisifes our initial position <m> \vr(0)=\langle x_0,y_0\rangle </m>. This gives the following vector valued function for the position of the object as a function of time.
      <me>
        \vr(t) = \left\langle v_0 \cos(\theta)t + x_0, -\frac{g}{2}t^2 + v_0 \sin(\theta)t + y_0 \right\rangle
      </me>
    </p>
  </example>
  <p>
    In the next activity, we will look at relationships between position, velocity, and acceleration in a situation that is more complicated than the constant acceleration of <xref ref="projectilemotion" />. The process of using integration and differentiation will remain the same but the results will not be nearly as simple.
  </p>
  <activity xml:id="A_9_7_7">
    <introduction>
      <p>
        Suppose a moving object in space has its velocity given by
        <me>
          \vv(t) = (-2\sin(2t)) \vi + (2 \cos(t)) \vj + \left(1 - \frac{1}{1+t}\right) \vk.
        </me>
        A graph of the position of the object for times <m>t</m> in <m>[-0.5,3]</m> is shown in <xref ref="F_9_7_VVD_Example">Figure</xref>. Suppose further that the object is at the point <m>(1.5,-1,0)</m> at time <m>t=0</m>.
      </p>
    </introduction>
    <task>
      <statement>
        <p>
          Determine <m>\va(t)</m>, the acceleration of the object at time <m>t</m>.
        </p>
      </statement>
      <solution>
        <p>
          Since acceleration is the derivative of the velocity we have
          <me>
            \va(t) = \vv'(t) = -4\cos(2t)\vi -2\sin(t) \vj + \left(\frac{1}{(1+t)^2}\right) \vk
          </me>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Determine <m>\vr(t)</m>, position of the object at time <m>t</m>.
        </p>
      </statement>
      <solution>
        <p>
          The position of the object is an antiderivative of the velocity, so
          <me>
            \vr(t) = \int \vv(t) \, dt = \cos(2t) \vi + 2\sin(t) \vj + \left( t - \ln|1+t| \right) \vk + \vC
          </me>
          for some constant <m>\vC</m>. Since <m>\vr(0) = \langle 1.5, -1, 0 \rangle</m>, we have
          <me>
            \langle 1.5, -1, 0 \rangle = \vr(0) = \langle 1, 0, 0 \rangle + \vC
          </me>
          and so <m>\vC = \langle 0.5, -1, 0 \rangle</m>. Therefore,
          <me>
            \vr(t) = (\cos(2t)+0.5) \vi + (2\sin(t)-1) \vj + \left( t - \ln|1+t| \right) \vk
          </me>
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Compute the position, velocity, and acceleration vectors of the object at time <m>t=1</m> and plot these vectors using <xref ref="F_9_7_VVD_Example">Figure</xref>.
        </p>
        <figure xml:id="F_9_7_VVD_Example">
          <caption>The position graph for the function in <xref ref="A_9_7_7">Activity</xref></caption>
          <image width="50%" source="images/fig_9_7_activity"/>
        </figure>
      </statement>
      <solution>
        <p>
          The position <m>\vr(1) = (\cos(2)+1) \vi + (2\sin(1)-1) \vj + (1-ln(2)) \vk</m>, velocity <m>\vv(1) = (-2\sin(2)) \vi + (2\cos(1)) \vj + \left(\frac{1}{2}\right) \vk</m>, and acceleration vector <m>\va(1) = (-4\cos(2)) \vi - (2\sin(1)) \vj + \left(\frac{1}{4}\right) \vk</m> of the object at time <m>t=1</m> are shown below.
        </p>
        <image width="73%" source="images/9_7_Act30_c_sol"/>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Give the vector equation for the tangent line, <m>\vL(t)</m>, that is tangent to the position curve at <m>t = 1</m>.
        </p>
      </statement>
      <solution>
        <p>
          The vector <m>\vv(1)</m> is a direction vector for <m>\vL(t)</m> and so
          <me>
            \vL(t) = \vr(1) + t\vv(1) = \langle \cos(2)+\frac{1}{2}, 2\sin(1)-1, 1-\ln(2) \rangle + t \left\langle -2\sin(2), 2\cos(1), + \frac{1}{2} \right\rangle
          </me>.
        </p>
      </solution>
    </task>
  </activity>
  <p>
    The situation in the previous activity shows a case where the motion of our object seems to be driven by forces with different behaviors that either turn the object or change the speed of the object in the <m>z</m>-coordinate direction. We will spend the rest of this chapter looking at different measurements related to motion along curves like this. Key to these measurements will be the combined use of our new calculus tools for vector valued functions with the vector measurements from the previous chapter. 
  </p>
</subsection>
<subsection>
  <title>Summary</title>
  <ul>
    <li>
      <p>
        If <m>\vr</m> is a vector-valued function, then the derivative of <m>\vr</m> is defined by
        <me>
          \vr'(t) = \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
        </me>
        for those values of <m>t</m> at which the limit exists, and is computed componentwise by the formula
        <me>
          \vr'(t) = x'(t) \vi + y'(t) \vj + z'(t) \vk
        </me>
        for those values of <m>t</m> at which <m>x</m>, <m>y</m>, and <m>z</m> are differentiable, where <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>.
      </p>
    </li>
    <li>
      <p>
        The derivative <m>\vr'(t)</m> of the vector-valued function <m>\vr</m> tells us the instantaneous rate of change of <m>\vr</m> with respect to time, <m>t</m>, which can be interpreted as a direction vector for the line tangent to the graph of <m>\vr</m> at the point <m>\vr(t)</m>, or also as the instantaneous velocity of an object traveling along the graph defined by <m>\vr(t)</m> at time <m>t</m>.
      </p>
    </li>
    <li>
      <p>
        An antiderivative of <m>\vr</m> is a vector-valued function <m>\vR</m> such that <m>\vR'(t) = \vr(t)</m>.  The indefinite integral <m>\int \vr(t) \ dt</m> of a vector-valued function <m>\vr</m> is the general antiderivative of <m>\vr</m> (which is a collection of all of the antiderivatives of <m>\vr</m>, with any two antiderivatives differing by at most a constant vector). Moreover, if <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>, then
        <me>
          \int \vr(t) \ dt = \left(\int x(t) \ dt\right) \vi + \left( \int y(t) \ dt \right) \vj + \left(\int z(t) \ dt\right) \vk.
        </me>
      </p>
    </li>

    <li>
      <p>
        If an object is launched from a point <m>(x_0,y_0)</m> with initial velocity <m>v_0</m> at an angle <m>\theta</m> with the horizontal, then the position of the object at time <m>t</m> is given by
        <me>
          \vr(t) = \left\langle v_0 \cos(\theta)t + x_0, -\frac{g}{2}t^2 + v_0 \sin(\theta)t + y_0 \right\rangle
        </me>
        provided that that the only force acting on the object is the acceleration <m>g</m> due to gravity.
      </p>
    </li>
  </ul>
</subsection>

<xi:include href="./exercises/ez-S_VVF_Calculus.ptx" />

</section>