<?xml version="1.0"?>
<!-- **********************************************************************-->
<!-- Copyright 2013-2025                                                   -->
<!-- Nicholas Long, Mitchel Keller, Steven Schlicker                       -->
<!--                                                                       -->
<!-- This file is part of Active Calculus Multivariable.                   -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-NC-SA license.  The work   -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike"; no party may sell this work or any of its    -->
<!-- derivatives for profit.  All trademarks are the registered marks of   -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->
<section xml:id="S-VVF-Calculus" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Calculus of Vector-Valued Functions of One Variable</title>
  <objectives>
      <ul>
        <li>
          <p>
            What do we mean by the derivative of a vector-valued function and how do we efficiently calculate it?
          </p>
        </li>
        <li>
          <p>
            What does the derivative of a vector-valued function measure?
          </p>
        </li>
        <li>
          <p>
            What do we mean by the integral of a vector-valued function and how do we effieciently calculuate it?
          </p>
        </li>
        <li>
          <p>
            How do we describe the motion of a projectile if the only force acting on the object is acceleration due to gravity?
          </p>
        </li>
      </ul>
  </objectives>
  <introduction component="instructor">
    <p>
      We again remind you to read through the <xref ref="C_VVF">introduction to this chapter</xref>, which introduces the Classic Calculus Approach and reviews the high points of single variable calculus. You may want to have students read this review of single variable calculus so they can recall the various uses of limits, derivatives, and integrals before we start working with these concepts in more general settings. 
    </p>
    <p>
      The material in this section requires students to understand the graph of a vector valued function of one variable (from <xref ref="S-VVF-Plotting"/>) and our vector operations, like addition and scalar multiplication, from <xref ref="S-Precalc-Vectors"/>.
    </p>
  </introduction>
  <subsection>
    <title>Introduction</title>
    <!-- <p>
      A vector-valued function <m>\vr</m> determines a curve in space as the
      collection of terminal points of the vectors <m>\vr(t)</m>. If the curve is
      smooth, it is natural to ask whether <m>\vr(t)</m> has a derivative. In
      the same way, our experiences with integrals in single-variable
      calculus prompt us to wonder what the integral of a vector-valued
      function might be and what it might tell us. We
      explore both of these questions in detail in this section.
    </p>

    <p>
      For now, let's recall some important ideas from calculus I. Given a
      function <m>s</m> that measures the position of an object moving along
      an axis, its derivative, <m>s'</m>, is defined by
      <me>
        s'(t) = \lim_{h \to 0} \frac{s(t+h) - s(t)}{h},
      </me>
      and measures the instantaneous rate of change of <m>s</m> with respect to
      time. In particular, for a fixed value <m>t = a</m>, <m>s'(a)</m> measures the
      velocity of the moving object, as well as the slope of the tangent
      line to the curve <m>y = s(t)</m> at the point <m>(a,s(a))</m>.
    </p>

    <p>
      As we work with vector-valued functions, we will strive to update
      these ideas and perspectives into the context of curves in space and
      outputs that are vectors.
    </p> -->
    <p>
      In this book, we will use the structure of the <xref ref="C_VVF_classic-calc-approach" text="custom">classic calculus approach</xref> to investigate properties of new kinds of functions, equations, and graphs. Later in this section, we will investigate the meaning of limits, derivatives, and integrals of vector-valued functions of one variable. Additionally, we will connect these measurements to properties of curves in space as the graphs of these vector-valued functions. 
    </p>
    <exploration xml:id="PA-VVF-Calculus">
      <introduction>
        <p>
          As the only employee of <em>Steer Clear</em>, you have decided that you need to understand how the timing of position measurements will change different properties related to your self-driving car. You decide to drive in a figure eight path described by <m>\vr_8(t)=\langle \cos(t),\sin(2t) \rangle </m> for <m>0 \leq t \leq 2 \pi</m>. A plot of this path is given in <xref ref="fig-PA-vvfcalc1" />.
        </p>
        <figure xml:id="fig-PA-vvfcalc1">
          <caption>A plot of the figure eight curve given by <m>\vr_8(t)=\langle \cos(t),\sin(2t) \rangle </m> for <m>0 \leq t \leq 2 \pi</m>.</caption>
          <image width="75%">
            <shortdescription>A figure eight curve</shortdescription>
            <description>
              <p>A curve in the plane. The curve intersects itself at the origin and is symmetric about both axes. On each side of the vertical axis, the curve forms a sort of squashed loop with a point at the origin.
              </p>
            </description>
            <sageplot label="img-PAvvfcalc1">
              var('t,x')
              plot1=parametric_plot((cos(t),sin(2*t)), (t,0,2*pi),aspect_ratio=1,gridlines=True,color="black",thickness=2,xmin=-1,xmax=1,ymin=-1,ymax=1)
              plot1
            </sageplot>
          </image>
        </figure>
      </introduction>
      <task>
        <statement>
          <p>
            In order to understand how often your software should collect location data, you decide to look at your position for a few different times. Calculate the following, rounding the component values to three decimal places. Draw the output vectors of <m>\vr_8</m> on <xref ref="fig-PA-vvfcalc1"/> in standard position.
            <ol marker="i." cols="3">
              <li><m>\vr_8(3)</m></li>
              <li><m>\vr_8(3.1)</m></li>
              <li><m>\vr_8(3.14)</m></li>
            </ol>
            The tips of these vectors correspond to the locations that would be sampled if you wanted to know the location of your car at <m>\vr_8(\pi)</m> but collected data every second, every tenth of a second, and every hundredth of a second, respectively. 
          </p>
        </statement>
      </task>
      <task xml:id="vvf-limitPA" >
        <statement>
          <p>
            Write a couple of sentences to describe both geometrically and algebraically what happens to the output of <m>\vr_8(t)</m> as <m>t\rightarrow\pi</m>.
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Calculate <m>\vr_8(\pi)</m> and <m>\vr_8(\pi)-\vr_8(3)</m>. Sketch <m>\vr_8(\pi)</m> and <m>\vr_8(3)</m> in standard position in <xref ref="fig-PA-vvfcalc1"/>. Also plot <m>\vr_8(\pi)-\vr_8(3)</m>, positioned in such a way to illustrate that it is difference of these two position vectors.
          </p>
        </statement>
        <hint>
          <p>
            Remember that <m>\vr_8(\pi)</m>, <m>\vr_8(3)</m>, and <m>\vr_8(\pi)-\vr_8(3)</m> will form a triangle as in <xref ref="F-9-2-vector-addition"/>.
          </p>
        </hint>
      </task>
      <task>
        <statement>
          <p>
            Compute <m>\frac{\vr_8(\pi)-\vr_8(3)}{\pi-3}</m> and explain how this calculation is different than the result of the previous step.
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            How would you expect <m>\frac{\vr_8(\pi)-\vr_8(3.1)}{\pi-3.1}</m> to be different than <m>\frac{\vr_8(\pi)-\vr_8(3)}{\pi-3}</m>? Use this idea write about what is measured by <m>\frac{\vr_8(\pi)-\vr_8(\pi-h)}{h}</m> if we look at smaller and smaller values of <m>h</m>. Remember to be specific about what aspects of our curve or drive are being measured.
          </p>
        </statement>
      </task>
<!--
      <statement>
       <p>
        Let <m>\vr(t) = \cos(t) \vi + \sin(2t) \vj</m> describe the path traveled by an object at time <m>t</m>.
        <ol marker="a.">
          <li>
            <p>
              Use appropriate technology to help you sketch the graph of the vector-valued function <m>\vr</m>, and then locate and label the point on the graph when <m>t=\pi</m>.
            </p>
          </li>

          <li>
            <p>
              Recall that for functions of a single variable, the derivative of a sum is the sum of the derivatives; that is, <m>\frac{d}{dx}[f(x) + g(x)] = f'(x) + g'(x)</m>. With this idea in mind and viewing <m>\vi</m> and <m>\vj</m> as constant vectors, what do you expect the derivative of <m>\vr</m> to be?  Write a proposed formula for <m>\vr\, '(t)</m>.
            </p>
          </li>

          <li>
            <p>
              Use your result from part (b) to compute <m>\vr\, '(\pi)</m>. Sketch this vector <m>\vr\, '(\pi)</m> as emanating from the point on the graph of <m>\vr</m> when <m>t=\pi</m> , and explain what you think <m>\vr\, '(\pi)</m> tells us about the object's motion.
            </p>
          </li>
        </ol>
      </p>
      </statement>
      <solution>
        <ol marker="a.">
          <li>
            <p>
              The graph of <m>\vr(t)</m> is shown below,
              with the point <m>(-1,0)</m> at <m>t=pi</m> indicated as the solid point on the graph.
              <image width="73%" source="images/fig_9_7_PA_a"/>
            </p>
          </li>
          <li>
            <p>
              If the derivative of a sum is the sum of the derivatives,
              then we should expect that
              <me>
                \vr\, '(t) = \frac{d}{dt} \cos(t) \vi + \frac{d}{dt} \sin(2t) \vj = -\sin(t) \vi + 2\cos(2t) \vj
              </me>.
            </p>
          </li>
          <li>
            <p>
              Using our rule for <m>\vr\, '(t)</m> we have <m>\vr\, '(\pi) = 2 \vj</m>.
              A sketch of this vector <m>\vr\, '(\pi)</m> as emanating from the point on the graph of <m>\vr</m> when <m>t=\pi</m> is shown below.
              This looks like a direction vector for the line tangent to the graph of <m>\vr</m> at the point where <m>t = \pi</m>.
              In other words,
              this vector <m>\vr\, '(t)</m> is the velocity vector of the object at time <m>t = \pi</m>.
              <image width="73%" source="images/fig_9_7_PA_b"/>
            </p>
          </li>
        </ol>
      </solution> -->
    </exploration>
    <p>
      In <xref ref="vvf-limitPA" text="type-local" /> of the Preview Activity, we examined what the limit of a vector-valued function will look like. Specifically, the limit of a vector-valued function of one variable has the same meaning as in your first calculus course. The limit of a function is a measure of what the output approaches as the input gets closer to a particular value. We will not state the formal version of limits of vector-valued functions of one variable, but rather will appeal to the important idea that limits can be defined and calculated componentwise. If <m>\vr(t)=\langle x_1(t),\ldots,x_n(t)\rangle</m>, then the limit of <m>\vr</m> as <m>t\rightarrow a</m> exists if all of the limits of <m>x_i(t)</m> exist as <m>t\rightarrow a</m>. In other words, the limit of a vector-valued function of one variable is the same as the limits of the <m>n</m> component functions organized as a vector. In <m>\mathbb{R}^3</m>, we can express this algebraically as
      <me>
        \lim_{t\rightarrow a} \langle f(t),g(t),h(t) \rangle = \left\langle \lim_{t\rightarrow a} f(t) , \lim_{t\rightarrow a} g(t) , \lim_{t\rightarrow a} h(t) \right\rangle
      </me>
    </p>
  </subsection>


  <subsection xml:id="vvf-derivative">
    <title>The Derivative</title>
    <p>
      In single variable calculus, we define the derivative, <m>f'</m>, of a given function <m>f</m> by
      <me>
        f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h},
      </me>
      provided the limit exists. At a given value of <m>a</m>, <m>f'(a)</m> measures the instantaneous rate of change of <m>f</m>, and also tells us the slope of the tangent line to the curve <m>y = f(x)</m> at the point <m>(a, f(a))</m>. The definition of the derivative extends naturally to vector-valued functions and curves in space.
    </p>

    <definition xml:id="vvf-derivative-defn">
      <statement>
        <p>
          The <term>derivative</term><idx><h>vector-valued function</h><h>derivative</h></idx> of a vector-valued function <m>\vr</m> is defined to be
          <me>
            \vr\, '(t) = \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
          </me>
          for those values of <m>t</m> at which the limit exists. We also use the notation <m>\frac{d\vr}{dt}</m> and <m>\frac{d}{dt}[\vr(t)]</m> for
          <m>\vr\,'(t)</m>.
        </p>
      </statement>
    </definition>
    <p xml:id="changeform">
      We will take a moment here to note that both the single variable calculus definition of derivative and <xref ref="vvf-derivative-defn" /> have the form of the classic calculus approach described above. In particular, both definitions are of the form
      <me>\text{derivative}=\lim_{\text{stepsize}\rightarrow 0} \frac{\text{change in output of function}}{\text{change in input of function}}</me>
    </p>
    <!-- <activity xml:id="A_9_7_1">
      <statement>
      <p>
        Let's investigate how we can interpret the derivative <m>\vr\, '(t)</m>. Let <m>\vr</m> be the vector-valued function whose graph is shown in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>, and let <m>h</m> be a scalar that represents a small change in time. The vector <m>\vr(t)</m> is the blue vector in <xref ref="F_9_7_VVF_tan_vector">Figure</xref> and <m>\vr(t+h)</m> is the green vector.
      </p>

      <figure xml:id="F_9_7_VVF_tan_vector">
        <caption>A single difference quotient.</caption>
        <image width="50%" source="images/fig_9_7_curve_1"/>
      </figure>

      <ol marker="a.">
        <li>
          <p>
            Is the quantity <m>\vr(t+h)-\vr(t)</m> a vector or a scalar? Identify this object in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>.
          </p>
        </li>

        <li>
          <p>
            Is <m>\frac{\vr(t+h)-\vr(t)}{h}</m> a vector or a scalar? Sketch a representative vector <m>\frac{\vr(t+h)-\vr(t)}{h}</m> with <m>h \lt  1</m> in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>.
          </p>
        </li>

        <li>
          <p>
            Think of <m>\vr(t)</m> as providing the position of an object moving along the curve these vectors trace out.  What do you think that the vector <m>\frac{\vr(t+h)-\vr(t)}{h}</m> measures? Why?  (Hint: You might think analogously about difference quotients such as <m>\frac{f(x+h) - f(x)}{h}</m> or <m>\frac{s(t+h) - s(t)}{h}</m> from calculus I.)
          </p>
        </li>

        <li>
          <p>
            <xref ref="F_9_7_VVF_tan_vector_quotients">Figure</xref> presents three snapshots of the vectors <m>\frac{\vr(t+h)-\vr(t)}{h}</m> as we let <m>h \to 0</m>. Write 2-3 sentences to describe key attributes of the vector
            <me>
              \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}.
            </me>
            (Hint: Compare to limits such as <m>\lim_{h \to 0} \frac{f(x+h) - f(x)}{h}</m> or <m>\lim_{h \to 0} \frac{s(t+h) - s(t)}{h}</m> from calculus I, keeping in mind that in three dimensions there is no general concept of slope.)
          </p>
        </li>
      </ol>

      <figure xml:id="F_9_7_VVF_tan_vector_quotients">
        <caption>Snapshots of several difference quotients.</caption>
        <sidebyside widths="33% 33% 33%" margins="0%">
        <image source="images/fig_9_7_animate_02"/>
        <image source="images/fig_9_7_animate_04"/>
        <image source="images/fig_9_7_animate_06"/>
        </sidebyside>
      </figure>
    </statement>
    <solution>
      <ol marker="a.">
        <li>
          <p>
            The quantity <m>\vr(t+h)-\vr(t)</m> is a vector quantity,
            the vector from the terminal point of <m>\vr(t)</m> to the terminal point of <m>\vr(t+h)</m>.
          </p>
        </li>
        <li>
          <p>
            The quantity <m>\frac{\vr(t+h)-\vr(t)}{h}</m> is a vector quantity,
            it is a vector in the direction of
            <m>\vr(t+h)-\vr(t)</m> that is <m>\frac{1}{h}</m> times as long.
          </p>
        </li>
        <li>
          <p>
            The vector <m>\vr(t+h)-\vr(t)</m> represents a change in position of the object on the time interval <m>[t, t+h]</m>.
            When we multiply by <m>\frac{1}{h}</m>,
            we can consider this vector
            <m>\frac{\vr(t+h)-\vr(t)}{h}</m> as an average change of position,
            or the average velocity vector of the object on the interval <m>[t,t+h]</m>.
          </p>
        </li>
        <li>
          <p>
            As <m>h \to 0</m>, the average velocity vectors
            <m>\frac{\vr(t+h)-\vr(t)}{h}</m> approach the instantaneous velocity vector.
            The average velocity vector
            <m>\frac{\vr(t+h)-\vr(t)}{h}</m> is a direction vector for the secant line to the curve that passes through the terminal points of <m>\vr(t)</m> and <m>\vr(t+h)</m>.
            As we let <m>h \to 0</m>,
            these direction vectors approach a direction vector
            <me>
              \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
            </me>
            of the tangent line to the curve at the terminal point of <m>\vr(t)</m>.
          </p>
        </li>
      </ol>
    </solution>
    </activity> -->
    <p>
      Let <m>\vr</m> be the vector-valued function whose graph is shown in <xref ref="F_9_7_VVF_tan_vector">Figure</xref>, and let <m>h</m> be a scalar that represents a small change in time. The vector <m>\vr(t)</m> is the blue vector in <xref ref="F_9_7_VVF_tan_vector">Figure</xref> and <m>\vr(t+h)</m> is the green vector.
    </p>

    <figure xml:id="F_9_7_VVF_tan_vector">
      <caption>A single difference quotient of a vector-valued function</caption>
      <image width="50%" source="images/fig_9_7_curve_1"/>
    </figure>
    <!-- <figure xml:id="vvf-secvec1">
      <caption>A plot of a curve in space with a difference in position vectors shown</caption>
      <interactive label="interactive-secvec1" platform="sage" width="100%" aspect="1:1">
        <slate surface="sage">
          var('t,x')
          @interact
          def secline3d(h=slider(0.1,3,0.1,default=1.5,label="Step Size")):
            from sage.plot.plot3d.plot3d import axes
            r(t)=(cos(t),sin(t),t/(2*pi))
            scale=1.5
            a=1
            plot5=axes(scale,1,color="black",opacity=0.15)+text3d("x",(scale+0.5,0,0),fontsize=30)
            plot5+=text3d("y",(0,scale+0.5,0),fontsize=30)+text3d("z",(0,0,scale+0.5),fontsize=30,frame=False)
            plot5+=parametric_plot3d(r(t),(t,0,2*pi),color="black",thickness=2)
            plot5+=point(r(a),color="black",size=20)
            plot5+=arrow3d((0,0,0),r(a),color="blue",opacity=0.5)
            plot5+=text3d("r(t)",1.5*r(a),color="blue",fontsize=20)
            plot5+=arrow3d((0,0,0),r(a+h),color="green",opacity=0.5)
            plot5+=text3d("r(t+h)",1.5*r(a+h),color="green",fontsize=20)
            plot5+=arrow3d(r(a),r(a+h),color="red",opacity=0.5)
            plot5+=text3d("r(t+h)-r(t)",1.5*(r(a+h/2)),color="red",fontsize=20)
            show(plot5,viewpoint=[[-0.4807,-0.5193,-0.7066],113.63],camera_position=[3.6816,0.7685,1.3301])
        </slate>
      </interactive>
    </figure> -->
    <p>
      If <m>\vr(t)</m> determines the <term>position</term> of an object at time <m>t</m>, then <m>\frac{\vr(t+h)-\vr(t)}{h}</m>
      represents the average rate of change in the position of the object over the interval <m>[t,t+h]</m>. We also call this the <term>average velocity</term> of the object on the interval<m>[t,t+h]</m>. It may feel a bit surprising to think of a rate of change as a vector quantity. However, describing how the vector quantity position changes with respect to time requires knowing both about the direction in which position changes and the magnitude of that change. Furthermore, when computing the difference quotient, the vector subtraction in the numerator is done componentwise. The factor of <m>1/h</m> is also multiplied into each component, so we can view the difference quotient's components as each being the average rate of change for that particular component.
    </p>
    <p>
      The derivative
      <me>
        \vr\, '(t) = \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
      </me>
      is the instantaneous rate of change of <m>\vr(t)</m> at time <m>t</m> for those values of <m>t</m> for which the limit exists. Therefore, the <term>instantaneous velocity</term> of the object at time <m>t</m> is <m>\vv(t) = \vr\, '(t)</m>. <xref ref="vvf-secvec2"/> allows you to reduce the step size in the difference quotient to approach <m>0</m>. In doing so, you should notice that <m>\vr\, '(t)</m> is tangent to the graph of <m>\vr(t)</m> at time <m>t</m>. We will return to this important characteristic later in the section.
    </p>
    <!-- <figure xml:id="F_9_7_VVF_tan_vector_quotients">
      <caption>Snapshots of several difference quotients as <m>h</m> gets smaller</caption>
      <sidebyside widths="33% 33% 33%" margins="0%">
      <image source="images/fig_9_7_animate_02"/>
      <image source="images/fig_9_7_animate_04"/>
      <image source="images/fig_9_7_animate_06"/>
      </sidebyside>
    </figure> -->
    <figure xml:id="vvf-secvec2">
      <caption>A plot of a curve in space with a difference in position vectors shown</caption>
      <interactive label="interactive-vvf-example2" platform="sage" width="100%" aspect="1:1">
        <slate surface="sage">
          var('t,x')
          @interact
          def secline3d(h=slider(0.1,1.6,0.1,default=1.5,label="Step Size",display_value=False)):
            from sage.plot.plot3d.plot3d import axes
            r(t)=(cos(t),sin(t),t/(2*pi))
            scale=1.5
            a=1.5
            plot5=axes(scale,1,color="black",opacity=0.15)+text3d("x",(scale+0.5,0,0),fontsize=30)
            plot5+=text3d("y",(0,scale+0.5,0),fontsize=30)+text3d("z",(0,0,scale+0.5),fontsize=30,frame=False)
            plot5+=parametric_plot3d(r(t),(t,0,2*pi),color="black",thickness=2)
            plot5+=point(r(a),color="black",size=20)
            plot5+=arrow3d((0,0,0),r(a),color="blue",opacity=0.5)
            plot5+=text3d("r(t)",1.5*r(a),color="blue",fontsize=20)
            plot5+=arrow3d((0,0,0),r(a+h),color="green",opacity=0.5)
            plot5+=text3d("r(t+h)",1.5*r(a+h),color="green",fontsize=20)
            plot5+=arrow3d(r(a),2*(r(a+h)-r(a))/h+r(a),color="red",opacity=0.5)
            plot5+=text3d("(r(t+h)-r(t))/h",2*(r(a+h/2)),color="red",fontsize=20)
            show(plot5,viewpoint=[[-0.4807,-0.5193,-0.7066],113.63],camera_position=[3.6816,0.7685,1.3301])
        </slate>
      </interactive>
    </figure>
    <p>
      Similarly,
      <me>
        \vv\,'(t) = \vr\,''(t) = \lim_{h \to 0} \frac{\vv(t+h)-\vv(t)}{h}
      </me>
      is the instantaneous rate of change of the velocity of the object at time <m>t</m>, for those values of <m>t</m> for which the limits exists. Therefore, the <term>acceleration</term> of the moving object is given by <m>\va(t) = \vv\, '(t)</m>.
    </p>

    <p>
      Both the velocity and acceleration are <em>vector quantities</em>: they have magnitude and direction. In single-variable calculus, we distinguish the velocity of an object, which can be positive, negative, or zero, from its speed, which must be nonnegative. The speed of an object in the single-variable case is the absolute value of its velocity. The analogous idea for an object having movement described by a vector-valued function is that the <em>magnitude</em> of the object's velocity vector is the <term>speed</term> of the object. This allows the speed <m>\vecmag{\vv(t)}</m> to again be a nonnegative scalar quantity.<idx><h>speed</h><h>of vector-valued function</h></idx>
    </p>
  </subsection>

  <subsection>
    <title>Computing Derivatives</title>
    <p>
      As we learned in single variable calculus, computing derivatives using the definition is often difficult because the limit involved is an indeterminate form. Fortunately, properties of limits and vectors make it straightforward to calculate the derivative of a vector-valued function. This will be similar to how we developed shortcut differentiation rules in single-variable calculus. If we analyze the steps in <xref ref="vvf-derivative-defn" />, we identify three steps
      <ol>
        <li>vector subtraction (<m>\vr(t+h)-\vr(t)</m>), </li>
        <li>scalar multiplication (multiply by <m>\frac{1}{h}</m>), </li>
        <li>evaluate limit as <m>h\rightarrow 0</m>, and </li>
      </ol>
      each of these is all evaluated componentwise on a vector-valued function. Therefore, familiar differentiation rules from single-variable calculus can be applied one ach component of <m>\vr(t)</m> to compute the derivative <m>\vr\, '</m>.
    </p>
    <proposition xml:id="Vector-valued-function-derivative">
      <title>Efficient calculation of the derivative of a vector-valued function</title>
      <statement>
        <p>
          If <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>, then
          <me>
            \frac{d}{dt} \vr(t) = x'(t) \vi + y'(t) \vj + z'(t) \vk
          </me>
          for those values of <m>t</m> at which <m>x</m>, <m>y</m>, and <m>z</m> are differentiable.
        </p>
      </statement>
      <proof>
        <p>
          To see why, recall that the limit of a sum is the sum of the limits, and that we can remove constant factors from limits. Thus, as we observed after <xref ref="PA-VVF-Calculus">Preview Activity</xref>, if <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>, it follows that
          <md>
            <mrow>\vr\, '(t) = \mathstrut \amp  \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}</mrow>
            <mrow> = \mathstrut \amp \lim_{h \to 0} \frac{[x(t+h)-x(t)] \vi + [y(t+h)-y(t)] \vj +
            [z(t+h)-z(t)] \vk}{h}</mrow>
            <mrow> = \mathstrut \amp \left(\lim_{h \to 0} \frac{x(t+h)-x(t)}{h}
            \right) \vi + \left( \lim_{h \to 0} \frac{y(t+h)-y(t)}{h} \right) \vj</mrow>
            <mrow> \mathstrut \amp  + \left( \lim_{h \to 0} \frac{z(t+h)-z(t)}{h} \right)\vk</mrow>
            <mrow>\mathstrut = \amp  x'(t)\vi + y'(t) \vj + z'(t) \vk.</mrow>
          </md>
          Thus, we can calculate the derivative of a vector-valued function by differentiating each of its components.
        </p>
      </proof>
  </proposition>
  <p>
    Our next activity gives you a chance to practice with componentwise differentiation and also asks you to think about when limits of vector-valued functions do not exist.
  </p>
  <activity xml:id="act-vvf-calculus-diff">
    <introduction> 
      <p>
        For each of the following vector-valued functions, state any values of <m>a</m> for which <m>\displaystyle\lim_{t\to a}\vr(t)</m> will <em>not</em> exist and find <m>\vr\, '(t)</m>.
      </p>
    </introduction>
    <task>
      <statement>
        <p>
          <m>\vr(t) = \langle \cos(t), t\sin(t), \ln(t) \rangle</m>.
        </p>
      </statement>
      <solution>
        <p>
          The third component of this function will is only defined when <m>t\geq 0</m>. The limit as <m>t\to a</m> of this function will exist if <m>a\geq 0</m>.
            Differentiating componentwise gives
            <me>
              \vr\, '(t) = \left\langle -\sin(t), t\cos(t)+\sin(t), \frac{1}{t} \right\rangle
            </me>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          <m>\vr(t) = \langle t^2 + 3t, e^{-2t}, \displaystyle\frac{t}{t^2 + 1} \rangle</m>.
        </p>
      </statement>
      <solution>
        <p>
          Each component of this function will have limits that exist for every input.
            Differentiating componentwise gives
            <me>
              \vr\, '(t) = \left\langle 2t+3, -2e^{-2t}, \displaystyle\frac{1-t^2}{1+t^2} \right\rangle
            </me>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          <m>\vr(t) = \langle \tan(t), \cos(t^2), te^{-t} \rangle</m>.
        </p>
      </statement>
      <solution>
        <p>
          The limit as <m>t\to a</m> of the first component of this function does not exist for values of <m>a</m> of the form <m>\frac{(2k+1)\pi}{2}</m> with <m>k\in\mathbb{Z}</m>. 
            Differentiating componentwise gives
            <me>
              \vr\, '(t) = \left\langle \sec^2(t), -2t\sin(t^2), -te^{-t}+e^{-t} \right\rangle
            </me>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          <m>\vr(t) = \left\langle \sqrt{t^4 + 4}, \frac{2}{t^2+t} , e^{2t} \sin(-2t) \right\rangle</m>.
        </p>
      </statement>
      <solution>
        <p>
          Each component of this function will have limits that exist for every input.
            Differentiating componentwise gives
            <me>
              \vr\, '(t) = \left\langle \frac{2t^3}{\sqrt{t^4 + 4}}, 3\cos(3t), -4\sin(4t) \right\rangle
            </me>.
        </p>
      </solution>
    </task>
  </activity>
  <p>
    In first-semester calculus, we developed several important differentiation rules, including the constant multiple, product, quotient, and chain rules. For instance, we can formally state the product rule as
    <me>
      \frac{d}{dx}[f(x)  g(x)] = f(x) g'(x) + g(x) f'(x)
    </me>.
  </p>
  <p>
    There are several analogous rules for vector-valued functions, including a product rule for each of the products we have defined involving vectors. These rules, which are easily verified by componentwise application of the familiar single-variable calculus rules, are summarized below.
  </p>

  <assemblage xml:id="Vector-valued-functions-derivative-properties">
    <title>Properties of Derivatives of Vector-Valued Functions</title>
    <p>
      Let <m>f</m> be a differentiable real-valued function of a real variable <m>t</m>. Let <m>\vr</m> and <m>\vs</m> be
      differentiable vector-valued functions of the real variable <m>t</m>. Then
      <dl>
        <li>
          <title>Sum Rule</title>
          <p>
            <m>\frac{d}{dt} \left[\vr(t) + \vs(t) \right] = \vr\, '(t) + \vs\, '(t)</m>
          </p>
        </li>
        <li>
          <title>Scalar Multiplication Product Rule</title>
          <p>
            <m>\frac{d}{dt} \left[f(t) \vr(t)\right] = f(t) \vr\, '(t) + f'(t) \vr(t)</m>
          </p>
        </li>
        <li>
          <title>Dot Product Rule</title>
          <p>
            <m>\frac{d}{dt} \left[\vr(t) \cdot \vs(t) \right] = \vr\, '(t) \cdot \vs(t) + \vr(t) \cdot \vs\, '(t)</m>
          </p>
        </li>
        <li>
          <title>Cross Product Rule</title>
          <p>
            <m>\frac{d}{dt} \left[\vr(t) \times \vs(t) \right] = \vr\, '(t)  \times \vs(t) + \vr(t) \times \vs\, '(t)</m>
          </p>
        </li>
        <li>
          <title>Chain Rule</title>
          <p>
            <m>\frac{d}{dt} \left[\vr\left(f(t)]\right)\right] = f'(t)  \  \vr\, '(f(t))</m>
          </p>
        </li>
      </dl>
    </p>
  </assemblage>
  <p>
    When applying these properties, pay attention to whether the quantities involved are either scalars or vectors. For example, <m>\vr(t) \cdot \vs(t)</m> defines a scalar function because we have taken the dot product of two vector-valued functions. However, <m>\vr(t) \times \vs(t)</m> defines a vector-valued function since we have taken the cross product of two vector-valued functions. Also notice that while we have <em>three</em> product rules for the differentiation of vector-valued functions, we have only one chain rule and no quotient rule. The lack of a quotient rule should make sense, since we have not defined what it would mean to divide a vector by another. That we have a single chain rule arises because so far, we have only discussed how to have a single input to a vector-valued function. Thus, we cannot compose one vector-valued function with another vector-valued function. You might also notice that the order in which the factors in the Chain Rule are written is a bit different to what you would write for single-variable functions. This is because <m>f'(t)</m> is a <em>scalar</em>, and convention says we should write scalar-vector multiplication with the scalar first.
  </p>
  <p>
    In the next several sections of this chapter, we will examine how to use calculus tools and vector measurements to calculate different properties of curves in space and the associated velocity and acceleration vectors that come from their parameterizations. <xref ref="A_9_7_8" text="type-local" /> offers practice on using calculus tools on vector-valued functions and previews some ideas that will be used in later sections of this chapter. 
  </p>
</subsection>
<subsection xml:id="tangentlines">
  <title>Tangent Lines</title>
  <p>
    One of the most important ideas in first-semester calculus is that a differentiable function is <term>locally linear</term>: that is, when viewed up close, the graph of a differentiable function looks like a line. Indeed, when we zoom in sufficiently close to a particular point, the curve is indistinguishable from its tangent line. You can look at <xref ref="LLline" /> for an interactive visualization of this important idea.
  </p>
  <p>
    In the same way, we expect that a smooth curve in three-dimensional space will be locally linear if the graph of the curve looks like a line when you zoom in sufficently far. In <xref ref="A_9_7_4" />, we investigate how to find the tangent line to such a curve. Recall from our work in <xref ref="S-Precalc-Lines">Section</xref> that the vector equation of a line that passes through the point at the tip of the vector <m>\vL_0 = \langle x_0, y_0, z_0 \rangle</m> in the direction of the vector <m>\vu = \langle a, b, c \rangle</m> can be written as
    <me>
      \vL(t) = \vL_0 + t \vu
    </me>.
    The line described by <m>\vL</m> can also be written in parametric form as
    <me>
      x(t) = x_0 + at, \ \ y(t) = y_0 + bt, \ \ z(t) = z_0 + ct
    </me>.
    <xref ref="vvf-tanline1" /> shows a plot of a curve, a point on that curve, and the line tangent to the curve at that point. You can change the point at which the tangent line is shown by moving the <q>Location</q> slider. By moving the <q>Zoom</q> slider to the right, you can show smaller and smaller regions around the highlighted point to see that the tangent line approximates the curve very well on sufficiently small neighborhoods of the point. If you move the zoom slider all the way to the left, the whole curve and axes will be shown. 
  </p>
  <figure xml:id="vvf-tanline1">
    <caption>A plot of a curve in space with the tangent line at a point drawn in red</caption>
    <interactive label="interactive-tanline1" platform="sage" width="100%" aspect="1:1">
      <slate surface="sage">
        var('t,x')
        @interact
        def tanline3d(a=slider(0.1,6.2,0.1,default=1,label="Location",display_value=False),zoom=slider(0,5,1,default=0,label="Zoom",display_value=False)):
          from sage.plot.plot3d.plot3d import axes
          r(t)=(cos(t),sin(t),cos(2*t))
          v(t)=(-sin(t),cos(t),-2*sin(2*t))
          scale=1.5
          l(t)=r(a)+t*v(a)
          if(zoom==0):
            plot6=axes(scale,1,color="black",opacity=0.15)+text3d("x",(scale+0.5,0,0),fontsize=30)
            plot6+=text3d("y",(0,scale+0.5,0),fontsize=30)+text3d("z",(0,0,scale+0.5),fontsize=30,frame=False)
            plot6+=point(r(a),color="black",size=20)
            plot6+=parametric_plot3d(r(t),(t,0,2*pi),color="black",thickness=2)
            plot6+=parametric_plot(l(t),(t,-1,1),color="red",thickness=2)
          else:
            plot6=point(r(a),color="black",size=20/zoom,frame=False,zorder=5)
            plot6+=parametric_plot3d(r(t),(t,a-2^(-zoom),a+2^(-zoom)),color="black",thickness=2)
            plot6+=parametric_plot(l(t),(t,-2^(-zoom),2^(-zoom)),color="red",thickness=2)
          show(plot6,viewpoint=[[-0.2005,-0.5864,-0.7848],149.95],camera_position=[4.9299,6.4869,2.3259],aspect_ratio=1)
      </slate>
    </interactive>
  </figure>
  <activity xml:id="A_9_7_4">
    <task>
      <statement>
        <p>
          Let
          <me>
            \vr(t) = \cos(t) \vi - \sin(t) \vj + t \vk.
          </me>
          Sketch the curve using some appropriate tool and make a drawing by hand that labels the point at the terminal point of <m>\vr(\pi)</m>. 
        </p>
      </statement>
      <solution>
        <p>
          Since
          <me>
            \vr(\pi) = \cos(\pi) \vi - \sin(\pi) \vj + \pi \vk = -\vi + \pi \vk
          </me>,
          the point on the curve traced out by <m>\vr(t)</m> when <m>t = \pi</m> is <m>(-1,0,\pi)</m>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Recall that we discussed earlier that the vector <m>\vr\, '(a)</m> is tangent to the graph of <m>\vr(t)</m> at the point where <m>t=a</m>. Find a direction vector for the line tangent to the graph of <m>\vr</m> at the point where <m>t=\pi</m>.
        </p>
      </statement>
      <solution>
        <p>
          The derivative
          <me>
            \vr\, '(\pi) = -\sin(\pi)\vi - \cos(\pi)\vj + \vk = \vj + \vk
          </me>
          is a direction vector for the line tangent to the graph of <m>\vr</m> at the point where <m>t=\pi</m>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Find the parametric equations of the line tangent to the graph of <m>\vr</m> when <m>t=\pi</m>.
        </p>
      </statement>
      <solution>
        <p>
          Using the point and the direction vector found in (a) and (b), the parametric equations of the line tangent to the graph of <m>\vr</m> when <m>t=\pi</m> are
            <me>
              x(t) = -1, \ \ \ y(t) = t, \ \ \ z(t) = \pi+t
            </me>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          On your plot of the curve <m>\vr(t)</m>, sketch the tangent line corresponding to <m>t = \pi</m> and highlight the role of <m>\vr\, '(\pi)</m> on your plot.  
        </p>
      </statement>
      <solution>
        <p>
          The sketch below shows the curve <m>\vr(t)</m> and a direction vector <m>\vr\, '(\pi)</m> for the tangent line to the curve at <m>t=\pi</m>.
          <image width="73%" source="images/9_7_Act29_d_sol1"/>
        </p>
      </solution>
    </task>
  </activity>
  <p>
    Our work in <xref ref="A_9_7_4">Activity</xref> can be generalized to give a method for finding an equation of the line tangent to a curve described by a vector-valued function.
  </p>
  <assemblage xml:id="assemblage-vvf-tangent-line">
    <title>Tangent Line to Curve Described by a Vector-Valued Function</title>
    <p>
      Given a differentiable vector-valued function <m>\vr</m>, the tangent line to the curve at the input value <m>a</m> is given by
      <men xml:id="E_TanLineVecFxn">
        \vL(t) = \vr(a) + t \vr\, '(a)
      </men>.
    </p>
  </assemblage>
  <p>
    The tangent line is determined entirely by a given point (provided by the function <m>\vr</m>) and a direction vector (provided by the derivative, <m>\vr\, '</m>), with both the function and its derivative evaluated at <m>t = a</m>. Note how analogous the formula for <m>\vL(t)</m> is to the tangent line approximation from single-variable calculus: in that context, for a given function <m>y = f(x)</m> at a value <m>x = a</m>, we found that the tangent line can be expressed by the linear function <m>y = L(x)</m> whose
    formula is
    <me>
      L(x) = f(a) + f'(a)(x-a)
    </me>.
    Equation<nbsp/><xref ref="E_TanLineVecFxn"/> for the tangent line <m>\vL(t)</m> to the vector-valued function <m>\vr(t)</m> is nearly identical. Indeed, because there are multiple parameterizations for a single line, it is even possible to write the parameterization
    as
    <men xml:id="E_TanLineVecFxn2">
      \vL(t) = \vr(a) + (t-a)
      \vr\, '(a).
    </men>
    For example, in Equation<nbsp/><xref ref="E_TanLineVecFxn"/>, <m>\vL(0) = \vr(a)</m>, so the line's parameterization <q>starts</q> at <m>t = 0</m>.  When we write the parameterization in the form of Equation<nbsp/><xref ref="E_TanLineVecFxn2"/>, <m>\vL(a) = \vr(a)</m>, so the line's parameterization <q>starts</q> at <m>t = a</m>. Both of these ways of parameterizing the line tangent to the graph of a vector-valued function will be useful in our future work.
  </p>
  <!-- <p>
    As we will learn in <xref ref="C_MVF" />, a smooth surface in 3-space is also locally linear. That means that the surface will look like a plane, which we call its <em>tangent plane</em>, as we zoom in on the graph. It is possible to use tangent lines to traces of the surface to generate a formula for the tangent plane; see <xref ref="Ez_9_7_3">Exercise</xref> for more details.
  </p> -->
</subsection>
<subsection>
  <title>Integrating a Vector-Valued Function</title>
  <p>
    In single-variable calculus, you learned that the definite integral of a (scalar-valued) function <m>f(x)</m> on the interval <m>[a,b]</m> is defined as 
    <me>
      \int_a^b f(x)  \  dx= \lim_{\Delta x_i \rightarrow 0} \sum_{i=0}^n f(x^*_i) \Delta x_i
    </me>,
    where <m>\Delta x_i</m> is the width of the interval from <m>[x_{i-1},x_i]</m> and <m>x^*_i</m> is a point in <m>[x_{i-1},x_i]</m>. The definite integral measures the net signed area between the graph of <m>f(x)</m> and the <m>x</m>-axis on the interval from <m>x=a</m> to <m>x=b</m>. The definite integral uses our classic calculus approach to measure the accumulation of the output of <m>f</m> over the interval <m>[a,b]</m>. In practice, you probably did not use this Riemann sum definition to calculate any definite integrals, since the Fundamental Therom of Calculus allowed you to use associated antiderivatives to efficiently calculate the value of a definite integral. <url href="https://activecalculus.org/single/sec-4-4-FTC.html#FTC" text="custom">The Fundamental Theorem of Integral Calculus</url> states that if <m>f</m> is a continuous function on <m>[a,b]</m> and <m>F(x)</m> is an antiderivatve of <m>f</m> (that is, <m>\frac{dF}{dx}=f(x)</m>), then 
    <me> \int_a^b f(x)  \  dx = F(b)-F(a)</me>.
    The family of functions that are antiderivatives of <m>f(x)</m> is also called the <term>indefinite integral</term> of <m>f(x)</m> and is denoted <m>\int f(x)  \  dx</m>. 
  </p>
  <p>
    We can apply all of the ideas above related to definite and indefinite integrals to vector-valued functions of one variable by performing each operation separately on each component. 
  </p>
  <assemblage xml:id="Vector-valued-function-integral">
    <title>Integrating a Vector-Valued Function</title>
    <p>
      If <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m> with <m>t\in[a,b]</m>, then
      <me>
        \int^b_a \vr(t) \ dt = \left(\int^b_a x(t) \ dt\right) \vi + \left( \int^b_a y(t) \ dt \right) \vj + \left(\int^b_a z(t) \ dt\right) \vk
      </me>,
      provided that all three of the integrals on the right-hand side exist. An <term>antiderivative</term><idx><h>vector-valued function</h><h>antiderivative</h></idx> of a vector-valued function <m>\vr</m> is a vector-valued function <m>\vR</m> such that
      <me>
        \vR\, '(t) = \vr(t)
      </me>.
      The <term>indefinite integral</term><idx><h>vector-valued function</h><h>indefinite integral</h></idx> <m>\int \vr(t) \ dt</m> of a vector-valued function <m>\vr</m> is the most general antiderivative of <m>\vr</m> and represents the family of all antiderivatives of <m>\vr</m>. The indefinite integral of <m>\vr(t)</m> is denoted by
      <me>
        \int \vr  \  dt = \int \langle x(t),y(t),z(t) \rangle  \  dt = \left\langle \int x(t)  \  dt, \int y(t)  \  dt,\int z(t)  \  dt\right\rangle
      </me>.
    </p>
  </assemblage>
  <p>
    The area under the curve idea does <alert>not</alert> generalize when we think about the integral of <m>\vr(t)</m>. One way to understand this is that the integral of <m>\vr</m> is with respect to the input variable <m>t</m> and there is not a <m>t</m>-axis on the graph of <m>\vr(t)</m>. However, as described in the introduction to this section, the concept that <em>will</em> generalize to vector-valued functions is the definite integral as a measurement of the accumulation of the output of a function. Specifically, in <xref ref="accumulation" text="title"/>, we stated how we can recover the position function by integrating the velocity function. This is a way of viewing position as the accumulation of the rate of change of position. If we apply our argument for the accumulation of rates of change to each component separately, then we can integrate the velocity componentwise to obtain the components of the position vector separately. Additionally, we can integrate acceleration to get the velocity as a function of <m>t</m>. Whether we are integrating velocity to get position or acceleration to get velocity, it will be necessary to have a particular point (in position or velocity) that will allow us to solve for the particular integration constant (the <q><m>+C</m></q> from single-variable calculus).
  </p>
  <example xml:id="projectilemotion">
    <p>
      For this example, we consider the motion of a projectile in two dimensions where the only force on the projectile is gravity. This type of problem applies to sports like archery or shotput as well as to military applications like mortar or artillery placements. It also has applications to firefighting or fireworks construction. This kind of simplified physics problem is common in introductory courses because there is only one force involved, the force is constant (does not change based on location, speed, or time), and the force is in only one coordinate direction. Even this description is a greatly simplified version of how gravity acts in a greater sense. 
    </p>
    <p>
      Newton's second law of motion says that that sum of the forces acting on an object is equal to the mass of the object times the acceleration vector. In our problem, the only force is gravity pulling the object in the negative <m>y</m>-direction. We want to completely determine the path traveled by an object that is launched from a fixed position at a given angle from the horizontal with a given initial velocity. This information can be stated as follows with the initial values shown in <xref ref="F_9_7_Motion" />: 
      <ul>
        <li>The acceleration is given by <m>m \va(t) = -mg \vj</m> (the only force is gravity pulling down with a constant force).</li>
        <li>The initial position is <m> \vr(0)=\langle x_0,y_0\rangle </m>.</li>
        <li>The initial velocity is <m>\vv(0)=\frac{d\vr}{dt}(0)=\langle v_0 \cos(\theta),v_0 \sin(\theta) \rangle</m>.</li>
        <li>We want to find position as a function of time, <m>\vr(t)</m>.</li>
      </ul>
    </p>
    <!-- TODO Figure uses a bold vector name -->
    <figure xml:id="F_9_7_Motion">
      <caption>Projectile motion</caption>
      <image width="50%" source="images/fig_9_7_projectile"/>
    </figure>
    <p>
      We can simplify <m>m \va(t) = -mg \vj</m> to find <m>\va(t)=\langle 0,-g\rangle</m>. Next, we integrate the acceleration to find the velocity as a function of <m>t</m>. The indefinite integral of <m>\va(t)=\langle 0,-g\rangle</m> with respect to <m>t</m> will be <m>\langle 0,-gt\rangle +\vec{C}</m>, where <m>\vec{C}</m> is a constant vector. We need to pick the constant such that the initial velocity is <m>\vv(0)=\langle v_0 \cos(\theta),v_0 \sin(\theta) \rangle</m>. This will ensure that the initial speed is <m>v_0</m> and that the initial velocity has an angle of <m>\theta</m> above the horizontal. Because <m>\vv(0)=\langle 0,-g(0)\rangle +\vec{C}=\vec{C}=\langle v_0 \cos(\theta),v_0 \sin(\theta) \rangle</m>, we find the following for the velocity as a function of time:
      <me>
        \vv(t)=\langle 0,-gt\rangle+\langle v_0 \cos(\theta),v_0 \sin(\theta) \rangle=\langle v_0 \cos(\theta),v_0 \sin(\theta)-gt \rangle
      </me>
    </p>
    <p>
      Now we can integrate our velocity function to get the position as a function of <m>t</m>. The indefinite integral of <m>\langle v_0 \cos(\theta),v_0 \sin(\theta)-gt \rangle</m> will be 
      <me>
        \langle v_0 \cos(\theta) t ,v_0 \sin(\theta)t- \frac{1}{2}gt^2 \rangle+ \vec{D}
      </me>.
      Again we need to find the integration constant <m>\vec{D}</m> that satisifes the initial position <m> \vr(0)=\langle x_0,y_0\rangle </m>. This gives the following vector-valued function for the position of the object as a function of time.
      <me>
        \vr(t) = \left\langle v_0 \cos(\theta)t + x_0, -\frac{g}{2}t^2 + v_0 \sin(\theta)t + y_0 \right\rangle
      </me>
    </p>
  </example>
  <p>
    In the next activity, we look at relationships between position, velocity, and acceleration in a situation that is more complicated than the constant acceleration of <xref ref="projectilemotion" />. The process of using integration and differentiation will remain the same, but the results will not be nearly as simple.
  </p>
  <activity xml:id="act-vvf-calc-position">
    <introduction>
      <p>
        Suppose a moving object in space has its velocity given by
        <me>
          \vv(t) = (-2\sin(2t)) \vi + (2 \cos(t)) \vj + \left(1 - \frac{1}{1+t}\right) \vk
        </me>.
        A graph of the position of the object for times <m>t</m> in <m>[-0.5,3]</m> is shown in <xref ref="F_9_7_VVD_Example">Figure</xref>. Suppose further that the object is at the point <m>(1.5,-1,0)</m> at time <m>t=0</m>.
      </p>
    </introduction>
    <task>
      <statement>
        <p>
          Determine <m>\va(t)</m>, the acceleration of the object at time <m>t</m>.
        </p>
      </statement>
      <solution>
        <p>
          Since acceleration is the derivative of the velocity we have
          <me>
            \va(t) = \vv'(t) = -4\cos(2t)\vi -2\sin(t) \vj + \left(\frac{1}{(1+t)^2}\right) \vk
          </me>.
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Determine <m>\vr(t)</m>, position of the object at time <m>t</m>.
        </p>
      </statement>
      <solution>
        <p>
          The position of the object is an antiderivative of the velocity, so
          <me>
            \vr(t) = \int \vv(t) \, dt = \cos(2t) \vi + 2\sin(t) \vj + \left( t - \ln|1+t| \right) \vk + \vC
          </me>
          for some constant <m>\vC</m>. Since <m>\vr(0) = \langle 1.5, -1, 0 \rangle</m>, we have
          <me>
            \langle 1.5, -1, 0 \rangle = \vr(0) = \langle 1, 0, 0 \rangle + \vC
          </me>
          and so <m>\vC = \langle 0.5, -1, 0 \rangle</m>. Therefore,
          <me>
            \vr(t) = (\cos(2t)+0.5) \vi + (2\sin(t)-1) \vj + \left( t - \ln|1+t| \right) \vk
          </me>
        </p>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Compute the position, velocity, and acceleration vectors of the object at time <m>t=1</m> and plot these vectors using <xref ref="F_9_7_VVD_Example">Figure</xref>.
        </p>
        <figure xml:id="F_9_7_VVD_Example">
          <caption>The position graph for the function in <xref ref="act-vvf-calc-position">Activity</xref></caption>
          <image width="50%" source="images/fig_9_7_activity"/>
        </figure>
      </statement>
      <solution>
        <p>
          The position <m>\vr(1) = (\cos(2)+1) \vi + (2\sin(1)-1) \vj + (1-ln(2)) \vk</m>, velocity <m>\vv(1) = (-2\sin(2)) \vi + (2\cos(1)) \vj + \left(\frac{1}{2}\right) \vk</m>, and acceleration vector <m>\va(1) = (-4\cos(2)) \vi - (2\sin(1)) \vj + \left(\frac{1}{4}\right) \vk</m> of the object at time <m>t=1</m> are shown below.
        </p>
        <image width="73%" source="images/9_7_Act30_c_sol"/>
      </solution>
    </task>
    <task>
      <statement>
        <p>
          Give the vector equation for the tangent line, <m>\vL(t)</m>, that is tangent to the graph of <m>\vr(t)</m> at <m>t = 1</m>.
        </p>
      </statement>
      <solution>
        <p>
          The vector <m>\vv(1)</m> is a direction vector for <m>\vL(t)</m> and so
          <me>
            \vL(t) = \vr(1) + t\vv(1) = \langle \cos(2)+\frac{1}{2}, 2\sin(1)-1, 1-\ln(2) \rangle + t \left\langle -2\sin(2), 2\cos(1), + \frac{1}{2} \right\rangle
          </me>.
        </p>
      </solution>
    </task>
  </activity>
  <p>
    The previous activity shows a case where the motion of our object is driven by forces that either turn the object or change the speed of the object in the <m>z</m>-coordinate direction. We will spend the rest of this chapter looking at measurements related to motion along curves like this. Key to these measurements will be the combined use of our new calculus for vector-valued functions with the vector tools from the previous chapter. 
  </p>
</subsection>
<outcomes>
  <ul>
    <li>
      <p>
        If <m>\vr</m> is a vector-valued function, then the derivative of <m>\vr</m> is defined by
        <me>
          \vr\, '(t) = \lim_{h \to 0} \frac{\vr(t+h)-\vr(t)}{h}
        </me>
        for those values of <m>t</m> at which the limit exists, and is computed componentwise by the formula
        <me>
          \vr\, '(t) = x'(t) \vi + y'(t) \vj + z'(t) \vk
        </me>
        for those values of <m>t</m> at which <m>x</m>, <m>y</m>, and <m>z</m> are differentiable, where <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>.
      </p>
    </li>
    <li>
      <p>
        The derivative <m>\vr\, '(t)</m> of the vector-valued function <m>\vr</m> tells us the instantaneous rate of change of <m>\vr</m> with respect to time, <m>t</m>, which can be interpreted as a direction vector for the line tangent to the graph of <m>\vr</m> at the point <m>\vr(t)</m>, or also as the instantaneous velocity of an object traveling along the graph defined by <m>\vr(t)</m> at time <m>t</m>.
      </p>
    </li>
    <li>
      <p>
        An antiderivative of <m>\vr</m> is a vector-valued function <m>\vR</m> such that <m>\vR'(t) = \vr(t)</m>.  The indefinite integral <m>\int \vr(t) \ dt</m> of a vector-valued function <m>\vr</m> is the general antiderivative of <m>\vr</m> (which is a collection of all of the antiderivatives of <m>\vr</m>, with any two antiderivatives differing by at most a constant vector). Moreover, if <m>\vr(t) = x(t) \vi + y(t) \vj + z(t) \vk</m>, then
        <me>
          \int \vr(t) \ dt = \left(\int x(t) \ dt\right) \vi + \left( \int y(t) \ dt \right) \vj + \left(\int z(t) \ dt\right) \vk.
        </me>
      </p>
    </li>

    <li>
      <p>
        If an object is launched from a point <m>(x_0,y_0)</m> with initial velocity <m>v_0</m> at an angle <m>\theta</m> with the horizontal, then the position of the object at time <m>t</m> is given by
        <me>
          \vr(t) = \left\langle v_0 \cos(\theta)t + x_0, -\frac{g}{2}t^2 + v_0 \sin(\theta)t + y_0 \right\rangle
        </me>
        provided that that the only force acting on the object is the acceleration <m>g</m> due to gravity.
      </p>
    </li>
  </ul>
</outcomes>

<xi:include href="./exercises/ez-S_VVF_Calculus.ptx" />

</section>